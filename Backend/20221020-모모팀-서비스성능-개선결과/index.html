<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0"/><style data-href="/styles.d53766664f3eaba3db40.css" id="gatsby-global-css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}</style><meta name="generator" content="Gatsby 2.32.13"/><style type="text/css">
    .toc-header.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .toc-header.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .toc-header svg,
    h2 .toc-header svg,
    h3 .toc-header svg,
    h4 .toc-header svg,
    h5 .toc-header svg,
    h6 .toc-header svg {
      visibility: hidden;
    }
    h1:hover .toc-header svg,
    h2:hover .toc-header svg,
    h3:hover .toc-header svg,
    h4:hover .toc-header svg,
    h5:hover .toc-header svg,
    h6:hover .toc-header svg,
    h1 .toc-header:focus svg,
    h2 .toc-header:focus svg,
    h3 .toc-header:focus svg,
    h4 .toc-header:focus svg,
    h5 .toc-header:focus svg,
    h6 .toc-header:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/favicon-32x32-1134414851454382d55f3e82eb460d40.png" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#3F4145"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512-1134414851454382d55f3e82eb460d40.png"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">모모팀 서비스 성능 개선 결과 (성능 테스트) | 모모의 기술 블로그</title><meta data-react-helmet="true" name="description" content="1. 들어가며 모모팀 서비스의 기능 개발을 1차적으로 마무리한 후, 의존관계와 성능 개선을 진행하게 되었다. 이번 포스트에서는 3차례에 걸친 서비스 성능 개선 작업 전/후로 성능이 얼마나 향상되었는지 비교해보려한다. 앞서 진행한 의존관계 개선과 쿼리 개선 과정을 자세히 확인하고 싶다면 아래의 포스트를 확인하길 바란다. 모모팀 서비스 성능 개선기1 (의존관…"/><meta data-react-helmet="true" property="og:title" content="모모팀 서비스 성능 개선 결과 (성능 테스트)"/><meta data-react-helmet="true" property="og:image" content="/static/social-image-78ea8dbe9ea55ddf7384fb9b357c15ca.png"/><meta data-react-helmet="true" property="og:description" content="1. 들어가며 모모팀 서비스의 기능 개발을 1차적으로 마무리한 후, 의존관계와 성능 개선을 진행하게 되었다. 이번 포스트에서는 3차례에 걸친 서비스 성능 개선 작업 전/후로 성능이 얼마나 향상되었는지 비교해보려한다. 앞서 진행한 의존관계 개선과 쿼리 개선 과정을 자세히 확인하고 싶다면 아래의 포스트를 확인하길 바란다. 모모팀 서비스 성능 개선기1 (의존관…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:image" content="/static/social-image-78ea8dbe9ea55ddf7384fb9b357c15ca.png"/><meta data-react-helmet="true" name="twitter:creator" content="momo"/><meta data-react-helmet="true" name="twitter:title" content="모모팀 서비스 성능 개선 결과 (성능 테스트)"/><meta data-react-helmet="true" name="twitter:description" content="1. 들어가며 모모팀 서비스의 기능 개발을 1차적으로 마무리한 후, 의존관계와 성능 개선을 진행하게 되었다. 이번 포스트에서는 3차례에 걸친 서비스 성능 개선 작업 전/후로 성능이 얼마나 향상되었는지 비교해보려한다. 앞서 진행한 의존관계 개선과 쿼리 개선 과정을 자세히 확인하고 싶다면 아래의 포스트를 확인하길 바란다. 모모팀 서비스 성능 개선기1 (의존관…"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-91d2ca5880d6e7d8e505.js"/><link as="script" rel="preload" href="/framework-eb684e3e828ad13b3940.js"/><link as="script" rel="preload" href="/styles-84a9bc99193fe5828ffe.js"/><link as="script" rel="preload" href="/dc6a8720040df98778fe970bf6c000a41750d3ae-17eb047fb821ccbad0b0.js"/><link as="script" rel="preload" href="/app-d1a6932a45bfd024ad29.js"/><link as="script" rel="preload" href="/d7eeaac4-dcbe97e7a5aa158c9d08.js"/><link as="script" rel="preload" href="/5e2a4920-da90abce4a08c86a094c.js"/><link as="script" rel="preload" href="/1bfc9850-409296e666dade882413.js"/><link as="script" rel="preload" href="/commons-b839ac3ef2817b5d267d.js"/><link as="script" rel="preload" href="/7a297f752dcfe258c0b0106d89edb3a916af916e-ba3bed115b500439fc94.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-4910a6c560d7a355cf37.js"/><link as="fetch" rel="preload" href="/page-data/Backend/20221020-모모팀-서비스성능-개선결과/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3911196313.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4111100897.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript><style data-emotion-css="zp4s6h">.css-zp4s6h{position:fixed;bottom:0;left:0;margin-left:0.5rem;margin-bottom:0.5rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));font-size:0.875rem;font-weight:700;padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:0.75rem;background-color:#A5CC82;z-index:9999;}</style><div class="css-zp4s6h"><style data-emotion-css="5x4yj0">.css-5x4yj0{fill:currentColor;width:1.5rem;height:1.5rem;margin-right:0.5rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" class="css-5x4yj0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"></path></svg><style data-emotion-css="1f2k2gl">.css-1f2k2gl{margin-left:0.5rem;}</style><div class="css-1f2k2gl">Please enable JavaScript to use this site.<br/>JavaScript를 활성화 시켜주세요.</div></div></noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="f6s0ma">.css-f6s0ma{-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#333333;}</style><style data-emotion-css="acifd">.css-acifd{min-height:100vh;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#333333;}</style><div class="css-acifd e5jinln0"><style data-emotion-css="8ezs2g">.css-8ezs2g{min-height:calc(100vh - 100px);}</style><div class="css-8ezs2g"><style data-emotion-css="17vgyms">.css-17vgyms{background:linear-gradient( 90deg,#00467F,#A5CC82 );}</style><div class="css-17vgyms"><style data-emotion-css="1mqm4zt">.css-1mqm4zt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:1280px;margin-left:auto;margin-right:auto;padding:1.25rem;}</style><nav class="css-1mqm4zt eocge8f0"><style data-emotion-css="1usmgm5">.css-1usmgm5{font-size:1.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));font-weight:700;}</style><a class="css-1usmgm5" href="/">모모팀의 기술 블로그</a><a aria-label="search page" href="/search"><style data-emotion-css="47445j">.css-47445j{--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));margin-top:auto;margin-bottom:auto;width:2rem;height:2rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-47445j" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></a></nav></div><style data-emotion-css="1d3ps91">.css-1d3ps91{background:linear-gradient( 90deg,#00467F,#A5CC82 );position:fixed;width:100%;box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);z-index:100;-webkit-transition:all 300ms cubic-bezier(0,0,0.2,1);transition:all 300ms cubic-bezier(0,0,0.2,1);top:-100px;}</style><div class="css-1d3ps91"><nav class="css-1mqm4zt eocge8f0"><a class="css-1usmgm5" href="/">모모팀의 기술 블로그</a><a aria-label="search page" href="/search"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-47445j" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></a></nav></div><style data-emotion-css="w27u98">.css-w27u98{margin-top:1rem;padding-left:1rem;padding-right:1rem;}</style><div class="blog-post-container css-w27u98"><div class="blog-post"><style data-emotion-css="1bdwg0l">.css-1bdwg0l{width:100%;max-width:768px;margin-left:auto;margin-right:auto;}</style><div class="css-1bdwg0l e6qprj20"><style data-emotion-css="1abxlfd">.css-1abxlfd{font-size:2.25rem;font-weight:700;margin-bottom:1rem;}@media (min-width:768px){.css-1abxlfd{font-size:3rem;}}</style><h1 class="blog-title css-1abxlfd">모모팀 서비스 성능 개선 결과 (성능 테스트)</h1><style data-emotion-css="cpn9zx">.css-cpn9zx{font-size:1rem;margin-bottom:1rem;}</style><h2 class="blog-date css-cpn9zx">2022년 10월 20일</h2><style data-emotion-css="cet0rr">.css-cet0rr{margin-bottom:0.5rem;}</style><div class="blog-tags css-cet0rr"><style data-emotion-css="engchn">.css-engchn{white-space:nowrap;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);font-size:1rem;font-weight:700;border-radius:9999px;margin-right:0.5rem;margin-top:0.25rem;margin-bottom:0.25rem;padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.75rem;padding-right:0.75rem;background-color:#edf2f7;color:#00467F;}</style><button class="css-engchn">SpringFramework</button><button class="css-engchn">성능 개선기</button><button class="css-engchn">성능 테스트</button><button class="css-engchn">JMeter</button><button class="css-engchn">모니터링</button><button class="css-engchn">Prometheus</button><button class="css-engchn">Grafana</button></div><style data-emotion-css="1l4w6pd">.css-1l4w6pd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}</style><div class="css-1l4w6pd"><style data-emotion-css="164tafw">.css-164tafw{border-radius:9999px;width:100%;height:1px;--bg-opacity:1;background-color:rgba(247,250,252,var(--bg-opacity));background:linear-gradient( 270deg,#00467F,#A5CC82,#FFC500 );}</style><div class="css-164tafw"></div></div></div><div class="blog-content"><style data-emotion-css="qwqmam">.css-qwqmam{-webkit-scrollbar-width:thin;-moz-scrollbar-width:thin;-ms-scrollbar-width:thin;scrollbar-width:thin;-webkit-scrollbar-color:gray transparent;-moz-scrollbar-color:gray transparent;-ms-scrollbar-color:gray transparent;scrollbar-color:gray transparent;display:none;}.css-qwqmam::-webkit-scrollbar{width:4px;}.css-qwqmam::-webkit-scrollbar-track{background-color:transparent;}.css-qwqmam::-webkit-scrollbar-thumb{border-radius:9999px;background-color:gray;}.css-qwqmam::-webkit-scrollbar-button{width:0;height:0;}@media screen and (min-width:1280px){.css-qwqmam{float:right;position:-webkit-sticky;position:sticky;top:100px;width:calc((100vw - 720px) / 2 - 80px);max-width:250px;margin-right:1rem;overflow:auto;word-break:break-word;max-height:calc(100vh - 200px);fontsize:1rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-left-width:4px;border-image:linear-gradient( 180deg,#00467F,#A5CC82,#FFC500 );border-image-slice:1;}}</style><div class="css-qwqmam"><style data-emotion-css="13af3fo">.css-13af3fo{margin-left:1rem;margin-right:1rem;}</style><div class="css-13af3fo"><style data-emotion-css="17i5xbf">.css-17i5xbf{font-weight:700;margin-bottom:0.5rem;font-size:1.125rem;--text-opacity:1;color:rgba(74,85,104,var(--text-opacity));}</style><h3 class="css-17i5xbf">TOC</h3><style data-emotion-css="1me4zjn">.css-1me4zjn ul{margin-left:0.5rem;}.css-1me4zjn ul > li a:hover{color:#555555;}.css-1me4zjn ul > li a{-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);--text-opacity:1;color:rgba(160,174,192,var(--text-opacity));font-size:0.875rem;}.css-1me4zjn ul > li a[href=""]{font-size:0.95rem;color:#555555;}</style><div class="css-1me4zjn"><ul>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#1-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0">1. 들어가며</a></li>
<li>
<p><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#2-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%99%98%EA%B2%BD-%EC%84%B8%ED%8C%85">2. 테스트 환경 세팅</a></p>
<ul>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#21-%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%88%B4">2.1. 부하 테스트 툴</a></li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#22-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%ED%88%B4">2.2. 모니터링 툴</a></li>
</ul>
</li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#3-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B5%AC%EC%A1%B0">3. 테스트 구조</a></li>
<li>
<p><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#4-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC">4. 테스트 결과</a></p>
<ul>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#41-throughput">4.1. Throughput</a></li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#42-tps">4.2. TPS</a></li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#43-response-time">4.3. Response Time</a></li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#44-cpu-%EC%82%AC%EC%9A%A9%EB%9F%89">4.4. CPU 사용량</a></li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#45-memory-allocation">4.5. Memory Allocation</a></li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#46-gc">4.6. GC</a></li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#47-db-connection-pool-hikaricp">4.7. DB Connection Pool (HikariCP)</a></li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#48-requestssecond">4.8. Requests/second</a></li>
</ul>
</li>
<li><a href="/Backend/20221020-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B2%B0%EA%B3%BC/#5-%EA%B2%B0%EB%A1%A0">5. 결론</a></li>
</ul></div></div></div><div class="css-1bdwg0l e6qprj20"><div><style data-emotion-css="14b4smw">.css-14b4smw{font-size:1rem;word-break:break-word;}.css-14b4smw h1 > a > svg,.css-14b4smw h2 > a > svg,.css-14b4smw h3 > a > svg,.css-14b4smw h4 > a > svg,.css-14b4smw h5 > a > svg,.css-14b4smw h6 > a > svg{fill:#000;}.css-14b4smw h1,.css-14b4smw h2{font-size:1.25rem;font-weight:600;margin-top:1.5rem;margin-bottom:1.5rem;}.css-14b4smw h3,.css-14b4smw h4,.css-14b4smw h5,.css-14b4smw h6{font-size:1.125rem;margin-top:1.5rem;margin-bottom:1.5rem;font-weight:600;}@media (min-width:640px){.css-14b4smw h1,.css-14b4smw h2{font-size:1.5rem;}.css-14b4smw h3,.css-14b4smw h4,.css-14b4smw h5,.css-14b4smw h6{font-size:1.25rem;}}.css-14b4smw a{color:#00467F;}.css-14b4smw a:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-14b4smw p{margin:0.3rem;margin-top:0.75rem;margin-bottom:0.75rem;}.css-14b4smw ul,.css-14b4smw ol{margin:0.3rem;margin-left:2rem;}.css-14b4smw li > p,.css-14b4smw li > ul,.css-14b4smw li > ol{margin-bottom:0;}.css-14b4smw ol{list-style-type:decimal;}.css-14b4smw ul{list-style-type:disc;}.css-14b4smw blockquote{padding:0.5rem;background-color:#eee;margin:0.3rem;margin-top:0.5rem;margin-bottom:0.5rem;border-left-width:4px;border-color:#A5CC82;}.css-14b4smw blockquote > p{margin:0.5rem;}.css-14b4smw blockquote > h1,.css-14b4smw blockquote > h2,.css-14b4smw blockquote > h3,.css-14b4smw blockquote > h4,.css-14b4smw blockquote > h5{margin-top:0.5rem;margin-bottom:0.5rem;}.css-14b4smw td,.css-14b4smw th{padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-width:1px;border-color:#A5CC82;}.css-14b4smw tr:nth-of-type(even){background-color:#eee;}.css-14b4smw th{background-color:#eee;}.css-14b4smw table{margin-bottom:1.5rem;display:block;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;margin:0 auto;overflow-x:auto;white-space:nowrap;}.css-14b4smw p > code,.css-14b4smw li > code{padding-top:0.1rem;padding-bottom:0.1rem;padding-right:0.25rem;padding-left:0.25rem;border-radius:0.25rem;color:#00467F;background-color:#eee;white-space:pre-line;}.css-14b4smw pre.grvsc-container{margin-top:24px;margin-bottom:24px;}.css-14b4smw hr{margin-top:24px;margin-bottom:24px;height:2px;border:none;background:linear-gradient( 270deg,#00467F,#A5CC82,#FFC500 );}</style><div class="markdown css-14b4smw"><h1 id="1-들어가며" style="position:relative;"><a href="#1-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0" aria-label="1 들어가며 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 들어가며</h1>
<p>모모팀 서비스의 기능 개발을 1차적으로 마무리한 후, 의존관계와 성능 개선을 진행하게 되었다. 이번 포스트에서는 3차례에 걸친 서비스 성능 개선 작업 전/후로 성능이 얼마나 향상되었는지 비교해보려한다.</p>
<blockquote>
<p>앞서 진행한 의존관계 개선과 쿼리 개선 과정을 자세히 확인하고 싶다면 아래의 포스트를 확인하길 바란다.</p>
<p><a href="https://seongwon.dev/Spring/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/">모모팀 서비스 성능 개선기1 (의존관계 개선)</a></p>
<p><a href="https://seongwon.dev/Spring/20221014-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B02/">모모팀 서비스 성능 개선기2 (조회 쿼리 개선)</a></p>
<p><a href="https://seongwon.dev/Spring/20221017-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B03/">모모팀 서비스 성능 개선기3 (CUD 쿼리 개선)</a></p>
</blockquote>
<h1 id="2-테스트-환경-세팅" style="position:relative;"><a href="#2-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%99%98%EA%B2%BD-%EC%84%B8%ED%8C%85" aria-label="2 테스트 환경 세팅 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 테스트 환경 세팅</h1>
<h2 id="21-부하-테스트-툴" style="position:relative;"><a href="#21-%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%88%B4" aria-label="21 부하 테스트 툴 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.1. 부하 테스트 툴</h2>
<p>성능 테스트 툴은 대표적으로 Apache에서 개발한 JMeter와 Naver에서 개발한 NGrinder가 존재한다. 처음에는 NGrinder의 경우 EC2에 컨트롤러와 에이전트를 분리하여 각각 올려서 테스트를 하려고 하였으나 제공받은 EC2의 보안 인바운드 규칙에 의해 컨트롤러와 에이전트를 분리하여 사용할 수가 없었다. 또한 로컬 PC에 설치하여 테스트를 진행하려고 하여도 M1 Pro 칩 관련 호환성 이슈가 있어 테스트 스크립트 컴파일이 불가능해 사용하지 못하였다. 결국 NGrinder는 뒤로하고 <strong>모모팀은 테스트 툴로 JMeter를 사용하게 되었다.</strong></p>
<h2 id="22-모니터링-툴" style="position:relative;"><a href="#22-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%ED%88%B4" aria-label="22 모니터링 툴 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2.2. 모니터링 툴</h2>
<p>JMeter로 성능 테스트를 진행하여도 테스트 결과에 대한 지표를 확인할 수 있다. 하지만 Response Time, TPS등의 적은 양의 정보만을 제공받을 수 있기에 추가적으로 <strong>Prometheus</strong>, <strong>Grafana</strong>를 이용한 모니터링 환경을 구축하였다.</p>
<blockquote>
<p><strong>Prometheus란?</strong></p>
<ul>
<li>Prometheus는 오픈소스 시스템 모니터링 툴킷이다. 모니터링을 할 서버에 exporter를 설치해 매트릭을 수집하고 HTTP 통신을 통해 엔드포인트를 제공하면 Prometheus는 해당 정보를 수집할 수 있다.</li>
</ul>
<p><strong>Grafana란?</strong></p>
<ul>
<li>Grafana는 메트릭 데이터 시각화 도구이다. 해당 툴을 사용하면 Prometheus에서 수집한 정보를 보기 쉽게 시각화해준다.</li>
</ul>
</blockquote>
<blockquote>
<p>더 자세한 정보를 얻고 싶다면 아래의 링크를 참고하길 바란다.</p>
<ul>
<li><a href="https://medium.com/finda-tech/prometheus%EB%9E%80-cf52c9a8785f">Prometheus란?</a></li>
<li><a href="https://www.44bits.io/ko/keyword/grafana">그라파나(Grafana)란?</a></li>
</ul>
</blockquote>
<p>환경을 구축한 결과 아래와 같이 CPU, HikariCP의 DB 커넥션, 메모리, GC사용량 등 여러 정보를 복합적으로 모니터링 할 수 있게 되었다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 64.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACdklEQVQ4yzVSWXYTMRD0ZwgEO3bs2bUvM57xFjvY8AgPTsH9T1KUFPNRT61Wdam32XI+x2KxwvNyjWXCapPtx8cnPDw8Ep/voP3pft7tp6/PmC+W+PK0oL3gOcfMGI9ODahag6Ix2BQC602DdSFRVAZlyXtJu7Z4WTf5LBtLTovVS0XU9Nf5bcWTghFCeox+RFcrvGxqrJYVOuPQKMN7g03VQYUejdT8qENJ3or+spbopCOnzWJZsGwkmrLDzfTYKo+CAfLdQu0CTPCQku/WQPURtvdQSsNTvA8a295h2noM0dC2EEJiln5va4EbMzzrHmXbQf+1qI8Swmr03qLjB6UVkLwHaWBcwDQGDBT8ACvchg/BgoJFJRDZQ9do9khAMKCSClUnULGs0giUgmh5J7fuNJTtIXRkOwTjU48lNqx0lsSc92izgIJkSdZaOGezWN3KLNK0msMzaDqJVij2TkM7n+02+YiypmBStRR03lHM5NNSLEQHwQ3QLkK6nmIWcYgw6bNADnm+D+Q6GB/gh5FDs8ywbNmTgeQjs9G5/DTFgqjZBm0HltbTVhRhUGdziYmTeeRXOfuY7xTkVFWA1AGKPWkFd6xo8i5uijavUSpdcgPK6mNHU8z/d0F/3XDd1lXex1nKyg87mPEAtzshHM75VHFkacR0hCXC/pw5xkf0kRUl/53v9wkXtNpjJtlUS8L193dcfl1xfv+Gy/sV0+XIxlvs315x+v6G4+2Cw/WMYT8xI4HpdMgxh9sbdpefOP34w+WPmHWcjkmNZ8kp/Tie0E+vCFtmabjcHEgrDOL2yDdiOkP7PvubznAwO7j+QP4r/SP+AVXvZQ5remcbAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/495e8f9ef961021f4e3586d24a859a6f/c1b63/img.png"
        srcset="/static/495e8f9ef961021f4e3586d24a859a6f/5a46d/img.png 300w,
/static/495e8f9ef961021f4e3586d24a859a6f/0a47e/img.png 600w,
/static/495e8f9ef961021f4e3586d24a859a6f/c1b63/img.png 1200w,
/static/495e8f9ef961021f4e3586d24a859a6f/d61c2/img.png 1800w,
/static/495e8f9ef961021f4e3586d24a859a6f/e8950/img.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<h1 id="3-테스트-구조" style="position:relative;"><a href="#3-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B5%AC%EC%A1%B0" aria-label="3 테스트 구조 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 테스트 구조</h1>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 49.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnElEQVQoz52STW/aQBCG/f8v+QPtoap6rNS0qkBt1Ij20kiUADG10hAb7NrYZr3+AoyB8GR300g5Jh3p1co7nplnZtZKkoQgCKjqmna3o2kattsth8OBp3b8J45Hdsq3XUyJfRdvNieKIhN3VD7LcRxuvRtkGtOUlUlWFAVhGNK2LRv1nQQ+hL5JXK9WhNGCcDrEu3WYzwPieIEG07JqFcTA5vzkhLevXnN6+gHP80zF5XJp6H/1+4SDPpmvaJLYoHajd1yIL6ZIGD0Ul1JipZmgmcUMu2d0zr7S7XTwfd9QlmVpSHu9Ht++/1CBEbnMyaTgjxgyFbbpSP+3Xq8fCPM8J5UZ1WZNs9kYMn0nhDAz0dLVtbTt93tiRan9mt51XXPqOdZqDxYvMJ38qe1UET0WPcO9Wqg265HiOdLDu1OHXMwJnQtGE4eJbTOd+aRCmvat55I90smyJrm+Qnx+gwxmyGrF8ucnipuBWlj68oRZUVH/9ajO33MoM3PXuh+5EyNksfoPQvU0LocjBmObyW/HLORyPOZKta5fxD0/e/cCKcD89wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/8366d3616e2e6de284de00304417a468/c1b63/img_1.png"
        srcset="/static/8366d3616e2e6de284de00304417a468/5a46d/img_1.png 300w,
/static/8366d3616e2e6de284de00304417a468/0a47e/img_1.png 600w,
/static/8366d3616e2e6de284de00304417a468/c1b63/img_1.png 1200w,
/static/8366d3616e2e6de284de00304417a468/d61c2/img_1.png 1800w,
/static/8366d3616e2e6de284de00304417a468/9ce1c/img_1.png 1886w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>테스트 구조는 위와 같다. 로컬에서 JMeter로 우리 서비스의 목표 인원인 100명에서 150명이 각각 4분동안 지속적으로 전체 페이지 조회 API와 상세 페이지 조회 API를 호출하도록 하며 부하를 줬다.</p>
<p>부하를 준 모니터링 EC2에서는 Prometheus가 WAS서버에서 보내주는 정보를 모으고 Grafana가 해당 정보를 시각화해주는 구조로 만들었다.</p>
<blockquote>
<p>실제 서비스 구조대로 NGINX 웹 서버를 거친 이후에 WAS로 요청이 간다. 테스트에서는 WAS만의 성능 개선 전/후를 비교하기 위해 최대한 외부의 영향을 줄이기 위해서 WAS로 바로 요청을 보냈다.</p>
</blockquote>
<blockquote>
<p>각각의 EC2정보는 아래와 같다.</p>
<ul>
<li>t4g.micro</li>
<li>CPU: 2 Core</li>
<li>RAM: 1 GB</li>
<li>Memory: 8GB</li>
</ul>
</blockquote>
<h1 id="4-테스트-결과" style="position:relative;"><a href="#4-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B2%B0%EA%B3%BC" aria-label="4 테스트 결과 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. 테스트 결과</h1>
<h2 id="41-throughput" style="position:relative;"><a href="#41-throughput" aria-label="41 throughput permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.1. Throughput</h2>
<ul>
<li>개선 전, 150명이 지속적으로 2분 30초동안 요청한 결과
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 8.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZElEQVQI1z2NyQ2AQAwDqYtrz+wJi+i/GIMjxGsia+xMJgpKPyG1w6eC9NLGhJCrkhlvJxnlGMo2LuSv068b4XXqOZTTaj1MEJUX43SAQ8xZJqU2bC78T0gOzLtFbgd2HzWn9wDdlUiHnMrLBgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/09550c31e4f6680225d7b38318bc1970/c1b63/img_2.png"
        srcset="/static/09550c31e4f6680225d7b38318bc1970/5a46d/img_2.png 300w,
/static/09550c31e4f6680225d7b38318bc1970/0a47e/img_2.png 600w,
/static/09550c31e4f6680225d7b38318bc1970/c1b63/img_2.png 1200w,
/static/09550c31e4f6680225d7b38318bc1970/d61c2/img_2.png 1800w,
/static/09550c31e4f6680225d7b38318bc1970/e8950/img_2.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></li>
<li>개선 후, 150명이 지속적으로 2분30초동안 요청한 결과
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 8.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAaklEQVQI1y1OWxKEMAjzXq6jtbZQabve/zBmCbMfTIA8YNlzgdhAvQ1nVZRmOK4aPTGL4tLbZ4H2iVQENh/X9yj7Pq5paM65510+xwmGah9Y9xQGBq3/PXkaiWI9eB7gE9S3MbGlHHsPfn/e9UiQYShtpQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/bd530641aa08d5b246faefce54a08728/c1b63/img_3.png"
        srcset="/static/bd530641aa08d5b246faefce54a08728/5a46d/img_3.png 300w,
/static/bd530641aa08d5b246faefce54a08728/0a47e/img_3.png 600w,
/static/bd530641aa08d5b246faefce54a08728/c1b63/img_3.png 1200w,
/static/bd530641aa08d5b246faefce54a08728/d61c2/img_3.png 1800w,
/static/bd530641aa08d5b246faefce54a08728/e8950/img_3.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></li>
</ul>
<p>개선 전/후로 JMeter를 통해 150명이 2분 30초동안 지속적으로 요청을 보낸 결과는 위와 같다. 해당 Throughput 표를 살펴보면 <strong>초당 처리량이 2.6배로 향상</strong>된 것을 확인할 수 있다.</p>
<h2 id="42-tps" style="position:relative;"><a href="#42-tps" aria-label="42 tps permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.2. TPS</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 29.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABY0lEQVQY01WMu3LTUBRF9f+fQQdNChoKmGFCIAwGB2LLeth6WJKjl/W80pUsyVm5KVJQrNl7rzNztLJuEK2g73p0Xcf3jwjZIdSe5uU/5uXKdJlY2h66ieFcYaz/IPMSxMhVDGidvCCnhWG68tr7cWacnhVX5GVBqv1Gf1G3pidOLDbJN/bpGtmMBLnJF+8dK+cGra4lm4cd3iGg79XDbsS0LNbrB3o50yon+olWeaPcIKuBVfCJz08f+JvdI4dnrPOWTbEiyPZohnXPnXHDP/srbdwQRS4/zY/cPr4nOlpUYqZsR9K65lC41IUg8TxOTkgaRhRxRhKFxF5MGeZorrvDyVyCIiUtOuKiISsFUZER+a7qHVn16ivlCvJK4oUxdz9+Ez6VnEtJkrfcfv+F453QbPOIo/vYpovvRbjWEXt7wHy08dwYP67Z+ym26pYTqV1gOiesfchOEWQCXeV252KYPi9BtrvvtaRlzQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/6574078f52b438eb3d8c05fe30102f86/c1b63/img_4.png"
        srcset="/static/6574078f52b438eb3d8c05fe30102f86/5a46d/img_4.png 300w,
/static/6574078f52b438eb3d8c05fe30102f86/0a47e/img_4.png 600w,
/static/6574078f52b438eb3d8c05fe30102f86/c1b63/img_4.png 1200w,
/static/6574078f52b438eb3d8c05fe30102f86/d61c2/img_4.png 1800w,
/static/6574078f52b438eb3d8c05fe30102f86/e8950/img_4.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<blockquote>
<p>TPS는 Transaction Per Second의 약자로 초당 초당 request / response가 수행된 양을 뜻한다.</p>
<p>📌 여기서 transaction이란 하나의 HTTP request / response 쌍을 의미한다.</p>
</blockquote>
<p>150명의 요청을 기준으로 TPS의 수치를 비교해보면 평균 300에서 570으로 <strong>약 90%정도 처리량이 증가</strong>한 것을 확인할 수 있다.</p>
<h2 id="43-response-time" style="position:relative;"><a href="#43-response-time" aria-label="43 response time permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.3. Response Time</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 29.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABOklEQVQY03WQu07EMBBF8/8/ASUdDRJaCWkrJESBKHYBaQnk5ThxEufpkMcuh2ErGoojz72+M2PZs5WlaweWZSUIQnJjOJ6+mUUv6/FffjOJUkJ6rs/+csTr3cRygnn9xjY9bT+e60kYp/VfJmlqmoFaer5m0fORL/G90nYkoSLXBaObccNElhqSKGUQ3Qn9X8ZFvIWqdfT9inMnOvGqxtGK7+UqI44TUqWxucUaS5plRFFErQ22m7HtJK+Xsxup7UCRFbzsdmhZ2ihLoXNe93uyRMnAp4D6uaB6bzDVKJc99aOh3WrKxwBjHYUdKTNH6feYuKB8M1ShZEPRpfgfLdaXzKHCC+8/MRcvpNdvKD8l3sXobYLaBKh9RmhaPmTI+yFFPZTEukZvfPIrH30bnL9G30WYy0/0TcgPDPDD4ejisjkAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/5f1a3ed7f4dacb9b8e9f0c2367bf0e89/c1b63/img_5.png"
        srcset="/static/5f1a3ed7f4dacb9b8e9f0c2367bf0e89/5a46d/img_5.png 300w,
/static/5f1a3ed7f4dacb9b8e9f0c2367bf0e89/0a47e/img_5.png 600w,
/static/5f1a3ed7f4dacb9b8e9f0c2367bf0e89/c1b63/img_5.png 1200w,
/static/5f1a3ed7f4dacb9b8e9f0c2367bf0e89/d61c2/img_5.png 1800w,
/static/5f1a3ed7f4dacb9b8e9f0c2367bf0e89/e8950/img_5.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>Response Time의 결과를 비교해봤을 때도 개선 전/후를 비교하였을 때 응답 시간이 줄어든 것을 확인할 수 있었다.</p>
<blockquote>
<p>출력된 표에서 그래프의 y축 범위가 너무 크게 나와 응답시간의 수치를 추출하기 어려워 수치상의 비교는 생략하였다.</p>
</blockquote>
<h2 id="44-cpu-사용량" style="position:relative;"><a href="#44-cpu-%EC%82%AC%EC%9A%A9%EB%9F%89" aria-label="44 cpu 사용량 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.4. CPU 사용량</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 37.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVklEQVQoz31RyXKDMBTjK7JhjHds1oQASUomoZ2eOv3/31Ef7uTQSw8aeZ5sWZaT7T7DgQns0/wPdgcORnwbJkynEZ/PBX3bYbPLom5VQdoN83TDuT2BkcfqlSgToIyPpmkmIzOukAkLn0t8PUt0XuFysvgYPNKDQGEVnieP+0ha0PheWjgusNlzJMZVWE3XRK+kKXE/3tCHCvc5IDQO3RAw9y6mrrzGY7CYHxVK0u5vATbLfw0zrqGNg7EWSmvkghJ4D6E0gszxfm3R1w7nxmIZahitUJcGy7nG2BU4rutLg1pLbClU8upEUCdZrmMPXJiYdl1rmomUg+8YZG6wo73rQeMaKBUinGuRmhpbppBIo3HsJ8IV/TDDFDWZSTA6nBEO9IKUOGLtljhq1HFRHVF3I1x5hPNtDJUwxuOnKFNC25LSOTJU9EH/g9FFuSwgdYisbRVnP5vMyBZy70GrAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/b0a7eccde5356a6f14ad507d87db67ec/c1b63/img_6.png"
        srcset="/static/b0a7eccde5356a6f14ad507d87db67ec/5a46d/img_6.png 300w,
/static/b0a7eccde5356a6f14ad507d87db67ec/0a47e/img_6.png 600w,
/static/b0a7eccde5356a6f14ad507d87db67ec/c1b63/img_6.png 1200w,
/static/b0a7eccde5356a6f14ad507d87db67ec/d61c2/img_6.png 1800w,
/static/b0a7eccde5356a6f14ad507d87db67ec/e8950/img_6.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>CPU 사용량은 사용중인 EC2의 코어가 2개뿐이라 사용량에 대해서는 큰 차이가 없다. 하지만 이미지를 보면 알 수 있듯이 사용량이 조금은 줄어든 것을 확인할 수 있다.</p>
<h2 id="45-memory-allocation" style="position:relative;"><a href="#45-memory-allocation" aria-label="45 memory allocation permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.5. Memory Allocation</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 37.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABg0lEQVQoz21SW2rDMBD0IZrYsS1bsq23HT+aV9NCaSGUQr9ygd7/FNOVGgKFfiw7jFazsysl66xEumF/InAFazAupxh+u8e8O8P4Cf/V3++lJZKms9gUNfKS33PBOLKC4/P1iOvljOfJ4/v6jv3okeYV1QikhYg1IYfYBEyiiTJDFCqYuIkJrOiApQW85FCug+A1hsXAUV6tcoimwdfHGYNTeDlNuLwdUJT1r6C22z+COeF5f8LsRzinIcceJW+gKBvR4rB/wjyMOFKjXrZYeoXzVkOQYDCSSN3fRhUxh+hMDycNjJYQ1oA1LRSNrbigJgN652C9QakUKjo3VoPTKqJgG3cY9hJEK3JK1nNGBQxbK6HJZUdO+snBC46yquGIn7yCpIbG64gbur+OgtLCeQ9rLe2GnGgDTcGqCqPW2DkDW1dYjMJINYz2qLTCrveRn1SHR2dR1zWyINjRyEo7SElO1BC/S5ZTt4y+Qh7ccjwQXhMOrxr5TUUve+MDznnkwpf6AUKX4VGufhNdAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/b6390263baa6240b10bf8b9bc0eddd32/c1b63/img_7.png"
        srcset="/static/b6390263baa6240b10bf8b9bc0eddd32/5a46d/img_7.png 300w,
/static/b6390263baa6240b10bf8b9bc0eddd32/0a47e/img_7.png 600w,
/static/b6390263baa6240b10bf8b9bc0eddd32/c1b63/img_7.png 1200w,
/static/b6390263baa6240b10bf8b9bc0eddd32/d61c2/img_7.png 1800w,
/static/b6390263baa6240b10bf8b9bc0eddd32/e8950/img_7.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>메모리 사용량은 개선/전 후를 비교하였을 때 크게 감소한 것을 확인할 수 있었다. 기존 조회로직 개선을 하지 않았을 때는 모임 목록 조회를 할 때, DTO가 아닌 수많은 실제 객체들을 만들었다. 해당 로직들을 개선하고 Repository 레이어에서 실제 객체가 아닌 DTO를 직접 반환하여 메모리 사용량이 <strong>150명 요청을 기준으로 약 44% 감소</strong>하였다.</p>
<h2 id="46-gc" style="position:relative;"><a href="#46-gc" aria-label="46 gc permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.6. GC</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 23.666666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDElEQVQY00WQWU7DUAwAcwRoETTr27PnNYlaFWgRX9z/SIPTIvExsi2P5CWxvkdpT5ZXlMpxyBTP+8Odp92B/UvKy2vGTuq3tKSoNMY12NCRF+bf3T/cpLGOr3Xkcxm4CZUOdN3AOIysyxFjgwzyKNswtw1XcX8+Ipc4UOia+RiJ08PNC01y7jpiqBiCZq21iDPXqeW9d3zHwKQVeemI84lz7Rm9YhZvdZpZ3NtYc+lkqclj04LEa0P0jtFZBmvRWks09BuhpvYteeXkVEMr/Rgck7id5MYYBu/pfZAYUJUl6acTfTyh5ZepbFLIeVm14Shti9p+bAL9uDDEM3W/kP0526DSNPj2eKeS/BdUKY6beT88mgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/6c101eb18f3bbf7eedeecaf6f1fd9d8d/c1b63/img_8.png"
        srcset="/static/6c101eb18f3bbf7eedeecaf6f1fd9d8d/5a46d/img_8.png 300w,
/static/6c101eb18f3bbf7eedeecaf6f1fd9d8d/0a47e/img_8.png 600w,
/static/6c101eb18f3bbf7eedeecaf6f1fd9d8d/c1b63/img_8.png 1200w,
/static/6c101eb18f3bbf7eedeecaf6f1fd9d8d/d61c2/img_8.png 1800w,
/static/6c101eb18f3bbf7eedeecaf6f1fd9d8d/e8950/img_8.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>쿼리 개선 이후,  조회를 처리하기 위해 생성하는 클래스가 줄어들어 메모리 사용량뿐만 아니라 GC를 살펴봤을 때도 성능 향상을 느낄 수 있었다. GC Count와 GC stop 시간을 살펴봤을 때 확실히 성능 개선 전/후를 비교하였을 때 많은 개선이 있는 것을 확인할 수 있다.</p>
<h2 id="47-db-connection-pool-hikaricp" style="position:relative;"><a href="#47-db-connection-pool-hikaricp" aria-label="47 db connection pool hikaricp permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.7. DB Connection Pool (HikariCP)</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 24.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABG0lEQVQY002MSU7DQBBFfQWUgbjd7sE92o5jG0JCDEJCcP/r9K4+HSsLFk9V+q9+FV0/QyiHzbbEds/wtHnGZlfiOe8rO4Z9zhiTqLhe/fa/f3Dv3nvF63nBMJ5RVhK1MPDtAK8tHBcwXMIKjeg7hFpBKrv6qAxsVa/+js+3Ks99KVDEbiQfjlQySVw0NLxcqDeBXD+RcC1p35GZ3ylITVJomi43GkMklR2XDfEmkDWe8mPKD6k4TW/wcQDjCi52sN7AZb6XG67TjFNo8fuxILoA0VjU2sBYj5/PBedhxNf1iss8w/iISjQoQntKqgnpwETy8ZjGoUnHXifrXRLaJlY3OQ+p5DqxB4dKJxd84tIkbV2Sua9tm1il0h+viYvf9XVX8gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/1d0b555328251c8f9f6b790f810eab61/c1b63/img_9.png"
        srcset="/static/1d0b555328251c8f9f6b790f810eab61/5a46d/img_9.png 300w,
/static/1d0b555328251c8f9f6b790f810eab61/0a47e/img_9.png 600w,
/static/1d0b555328251c8f9f6b790f810eab61/c1b63/img_9.png 1200w,
/static/1d0b555328251c8f9f6b790f810eab61/d61c2/img_9.png 1800w,
/static/1d0b555328251c8f9f6b790f810eab61/e8950/img_9.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>DB ConnectionPool인 HikariCP 모니터링 결과를 비교해보면 개선 전/후의 DB 커넥션풀 사용을 대기하는 수가 크게 줄어든 것을 확인할 수 있다. 해당 결과는 쿼리 개선 전에는 지연로딩과 N+1문제로 인한 쿼리 등으로 수많은 쿼리들이 실행되었는데 쿼리 개선을 하며 필요한 최소한의 쿼리가 실행되도록 개선하여 Connection Pool의 Pending이 크게 줄어들었다. 150명 요청을 기준으로 비교하였을 때 <strong>커넥션 대기 최대치가 약 49% 감소</strong>하였다.</p>
<h2 id="48-requestssecond" style="position:relative;"><a href="#48-requestssecond" aria-label="48 requestssecond permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4.8. Requests/second</h2>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 37%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVQoz01R2W7CMBDkI4BA4jiJ7ysJR6ESRbQv/f9Pmg4plfowGmtmvTtrr2Rv0XYG253ApmqwbzqU6QTrM3WNy/sHpsMF2iYIqVDtW4Q0QZmw+JFn2RvsGoldLbF6is9CFwrGwxu87PE4nHAOCZMy+JiPGKkpZTEe6fPy1/mM2zxjHDS+7zdcYkTNIDtiVYueqXqkPOP99kBoaWxrJm6Xos1ewBA5Flzvnxi1hrEaQ3AMwkHZoxgFydrqL+Gg/LLyuhIIXQ9fOJHTW0KNCUkp1PQq2SFrBZ8jG0UIpaGnjOwMZP1q+Ny7bplSSFSCF9SA0xjhDd+HGEvAkYlaep13mL3BITmU5BGplxxwptYx7dKwkQPm0xWOK03HC6wNKIRnuuIiAjmSe+2gqBtyNmxGTvaXg7bLJwluu3r+Tjc49INf0LRqWX3DN/yPiti+sH5p63/nX1/gB/H+xSV/doy7AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/cd285ef5106a291cf7c92f478740fd3e/c1b63/img_10.png"
        srcset="/static/cd285ef5106a291cf7c92f478740fd3e/5a46d/img_10.png 300w,
/static/cd285ef5106a291cf7c92f478740fd3e/0a47e/img_10.png 600w,
/static/cd285ef5106a291cf7c92f478740fd3e/c1b63/img_10.png 1200w,
/static/cd285ef5106a291cf7c92f478740fd3e/d61c2/img_10.png 1800w,
/static/cd285ef5106a291cf7c92f478740fd3e/e8950/img_10.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>Requests/second 데이터는 초당 WAS에서 처리한 Request양을 의미한다. 해당 데이터의 수치를 비교하면 개선 전에는 초당 약 620개의 요청을 처리하였으며 개선 후에는 약 1150개의 요청을 처리하였다. 이를 성능 개선 수치로 비교하면 <strong>초당 약 85% 더 많은 요청을 처리할 수 있게 되었다.</strong></p>
<h1 id="5-결론" style="position:relative;"><a href="#5-%EA%B2%B0%EB%A1%A0" aria-label="5 결론 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. 결론</h1>
<p>지난 모모팀 쿼리 성능 개선을 진행한 후, 조회 쿼리에 한해서 성능 비교를 진행해봤다. 모임 목록 조회, 모임 단건 조회의 쿼리를 한 세트로 100명/150명의 유저가 지속적으로 요청을 날리도록 부하를 주며 테스트를 해본 결과 DB connection, 메모리 사용량 등 <strong>자원의 사용량은 약 45% 정도 감소</strong>하였으며 <strong>요청 처리에 대해서는 약 90% 정도 성능이 향상</strong>한 것을 확인하였다.</p>
<p>모임 생성, 수정, 삭제에 대한 CUD작업에 대해서는 직접 진행하지 않았지만 개선된 CUD 쿼리의 전, 후를 비교하였을 때 조회 쿼리보다 더욱 큰 개선이 되었을 것이라 생각된다.</p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
</style></div></div></div></div><div class="css-1bdwg0l e6qprj20"><div><style data-emotion-css="17t5ffy">.css-17t5ffy{margin-top:1rem;margin-bottom:1rem;}</style><div class="css-17t5ffy"><div class="css-1l4w6pd"><div class="css-164tafw"></div></div></div><style data-emotion-css="i1cgbm">.css-i1cgbm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;margin-top:1rem;padding-left:0.5rem;padding-right:0.5rem;}</style><div class="css-i1cgbm"><style data-emotion-css="16k19ub">.css-16k19ub{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#2D87FD;}</style><button class="css-16k19ub"><style data-emotion-css="u7tj59">.css-u7tj59{fill:currentColor;margin-top:auto;margin-bottom:auto;margin-right:0.25rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 320 512" class="css-u7tj59" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg>Share with <!-- -->Facebook</button><style data-emotion-css="9nr5sz">.css-9nr5sz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#1CA1F2;}</style><button class="css-9nr5sz"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-u7tj59" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>Share with <!-- -->Twitter</button><style data-emotion-css="rk0yc0">.css-rk0yc0{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#6E7783;}</style><button class="css-rk0yc0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-u7tj59" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg>Share with <!-- -->Url</button></div></div></div></div></div><div class="css-1bdwg0l e6qprj20"><style data-emotion-css="17t1oy1">.css-17t1oy1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap-reverse;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;margin-left:0.5rem;margin-right:0.5rem;margin-top:1rem;}@media (min-width:768px){.css-17t1oy1{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}}</style><div class="css-17t1oy1 e1ic15ss0"><style data-emotion-css="1pwr1ry">.css-1pwr1ry{width:100%;margin:0.5rem;}@media (min-width:768px){.css-1pwr1ry{width:50%;margin:1rem;}}</style><div class="css-1pwr1ry e1ic15ss1"><style data-emotion-css="txyanx">.css-txyanx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);text-align:left;width:100%;height:100%;padding:0.5rem;background-color:#eee;border-radius:0.25rem;border-left-width:4px;border-color:#A5CC82;}.css-txyanx:hover{background-color:#ddd;}</style><a rel="prev" class="css-txyanx" href="/Backend/20221017-모모팀-서비스성능-개선기3/"><style data-emotion-css="19o7xeo">.css-19o7xeo{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;margin-right:1rem;margin-left:0.5rem;height:100%;}</style><div class="css-19o7xeo"><style data-emotion-css="11za1ik">.css-11za1ik{width:2rem;height:2rem;margin-top:auto;margin-bottom:auto;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-11za1ik" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"></path></svg></div><style data-emotion-css="v38or">.css-v38or{display:inline-block;margin-top:0.5rem;margin-bottom:0.5rem;}</style><div class="css-v38or"><style data-emotion-css="1e3im4j">.css-1e3im4j{color:#00467F;}</style><p class="css-1e3im4j">이전 포스트</p><p>모모팀 서비스 성능 개선기3 (CUD 쿼리 개선)</p></div></a></div><div class="css-1pwr1ry e1ic15ss1"><style data-emotion-css="89mi30">.css-89mi30{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);text-align:right;width:100%;height:100%;padding:0.5rem;background-color:#eee;border-radius:0.25rem;border-right-width:4px;border-color:#A5CC82;}.css-89mi30:hover{background-color:#ddd;}</style><a rel="next" class="css-89mi30" href="/DevOps/20221021-모모팀-인프라-개선기-1편/"><div class="css-v38or"><p class="css-1e3im4j">다음 포스트</p><p>모모팀 인프라 개선기 1편 (Docker🐳 도입)</p></div><div class="css-19o7xeo"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-11za1ik" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"></path></svg></div></a></div></div><style data-emotion-css="14yohw7">.css-14yohw7{width:100%;max-width:768px;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto;padding-top:2rem;margin-top:0.5rem;margin-bottom:1rem;}@media (min-width:768px){.css-14yohw7{padding-left:0;padding-right:0;padding-top:3rem;}}</style><div class="css-14yohw7 e1q36c7t0"><style data-emotion-css="180ky7f">.css-180ky7f{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:0.5rem;padding-right:0.5rem;}@media (min-width:768px){.css-180ky7f{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}</style><div class="css-180ky7f e1q36c7t1"><style data-emotion-css="p5b1u1">.css-p5b1u1{border-radius:9999px;border-width:1px;--border-opacity:1;border-color:rgba(214,188,250,var(--border-opacity));margin-right:2rem;margin-bottom:0.5rem;}@media (min-width:768px){.css-p5b1u1{margin-bottom:1rem;}}</style><div class="css-p5b1u1 gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:128px;height:128px"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDklEQVQ4y31UXUhTYRg+F0VFSRmBms413dSyMvuhaGU5LCEQzUCcWxJpGeE/hNnwN+1nCKUyp3gRImFIXmRd5KYXYZLQSvBa8EaSpqRo29ymezrvmd/Z5pYvfOc7H+c9z/e8z/vDra+vg5bbTcu9+e7G2toatrONjQ04nU7Rn/3LhQJzuVzCT4uLi+joeA2NJh/XrquQkXEVmZkZaGlpFsDInM61AFCOHWgnINrJenq6ERF5CKfPpKCiohRNzQ2oq9fhfkkxko4qkJAYj8nJb5ugPqacPzMGVlx8F+HhYRgcfPffkGuf1GD3nh2YmPgaAMoxqiyEoqI7kEpjYLX+Fh1JT7YcDocoSeuzp5DFxQphezweX8gsAe3trxB+MAzz87+Es91uD9DWXxoGejIlGS2tzcI74XDsw8zMDPYf2IvRUbNwdjjsW4C8i4EyEn19b5B8PInPuscbMvtQ8uAesrJubII54Csnrxx0sb/4jMjc3BxiYiIxPT0tnDl6LC39gSQ2CibTZ1E3BkLa+BsDZszJLirPw2Do8AEODLzFseTEAFbMrFYrjEYDTOYRGLo6g4DJtLfVqKqu8AFWVZVDXZAnsiNWlCAKZ3l5CTWPH2F4+AO6e4xYXV3B2NiomASywkINSsse+gAL+E4o54uXZZYs91YOzp5LDao/5aULyM7JCvDVaPNR5g9IB61WLSaE7Upem8QkOerqdKiurkSsNBqX05Q862UhChYytWVbm94HODT0HvFyqdDw/iXhcjnxUv8cN3Ozka/OE9qRfFi45EugMpkEZrPJC0gOJLAiIQ6NjfWijqwOtxr5soIn0+tfQK6QCZcTFsdoU6Pv3bcLTU0NAQA2uw02G62/QSNNp6vl+3knX24jIpGA1rP8sEAiiRLq6uOnYSwsWIMYTk39FCKRK44IpWaxfA8eDv6gKysrqOTLiJqeFmU1PT0N6ao0nEo9gcPREVCprqC3t0eUhOkpji8GysJnN46Pf+GLugvG7i6+EzrR39+H2dnZbac2F2qS0I0sm6GMjbRQk+gfC+9ZnRl0IjIAAAAASUVORK5CYII=" alt="profileImg" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/1134414851454382d55f3e82eb460d40/2c344/profile.png 1x,
/static/1134414851454382d55f3e82eb460d40/f20a7/profile.png 1.5x" /><img loading="lazy" width="128" height="128" srcset="/static/1134414851454382d55f3e82eb460d40/2c344/profile.png 1x,
/static/1134414851454382d55f3e82eb460d40/f20a7/profile.png 1.5x" src="/static/1134414851454382d55f3e82eb460d40/2c344/profile.png" alt="profileImg" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div><span>Written by </span><style data-emotion-css="16q43sj">.css-16q43sj{display:inline-block;font-size:1.25rem;font-weight:700;border-radius:9999px;margin-bottom:0.5rem;padding-left:0.75rem;padding-right:0.75rem;--bg-opacity:1;background-color:rgba(237,242,247,var(--bg-opacity));color:#00467F;}</style><p class="css-16q43sj">@<!-- -->momo</p><style data-emotion-css="vg2p6i">.css-vg2p6i{font-size:0.875rem;font-weight:400;margin-bottom:0.5rem;}</style><div class="css-vg2p6i">모모팀의 기술 블로그입니다</div></div></div><style data-emotion-css="1air669">.css-1air669{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:0.5rem;margin-right:0.5rem;}</style><div class="css-1air669"><div class="css-164tafw"></div></div></div><style data-emotion-css="18jj1tc">.css-18jj1tc{margin-top:1.25rem;margin-left:0.5rem;margin-right:0.5rem;}</style><div class="css-18jj1tc"><div class="utterances"></div></div></div></div><style data-emotion-css="xgi74q">.css-xgi74q{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:fixed;bottom:0;right:0;padding-right:1.5rem;padding-bottom:1.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><div class="css-xgi74q e1m8uc5d0"><style data-emotion-css="1a68u">.css-1a68u{box-shadow:0 2px 2px 0 rgba(0,0,0,0.15);-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#636363;font-size:0.75rem;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.5rem;padding-bottom:0.5rem;border-radius:9999px;--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;-webkit-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));-ms-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-content:flex-end;-ms-flex-line-pack:end;align-content:flex-end;z-index:100;}.css-1a68u:hover{background-color:#404040;color:#FFFFFF;}.css-1a68u:hover{--transform-scale-x:1.05;--transform-scale-y:1.05;}</style><button title="change to darkmode" class="css-1a68u"><style data-emotion-css="1alqh2e">.css-1alqh2e{fill:currentColor;--text-opacity:1;color:rgba(246,224,94,var(--text-opacity));width:1rem;height:1rem;margin-top:auto;margin-bottom:auto;margin-left:0;margin-right:0;}@media (min-width:768px){.css-1alqh2e{display:inline-block;margin-left:0.25rem;margin-right:0.25rem;}}</style><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="css-1alqh2e" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg><style data-emotion-css="flxr9x">.css-flxr9x{display:none;margin-right:0;}@media (min-width:768px){.css-flxr9x{display:inline-block;margin-right:0.25rem;}}</style><span class="css-flxr9x">다크 모드로 보기</span></button><style data-emotion-css="15afv4q">.css-15afv4q{box-shadow:0 2px 2px 0 rgba(0,0,0,0.15);-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#636363;font-size:0.75rem;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.5rem;padding-bottom:0.5rem;border-radius:9999px;--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;-webkit-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));-ms-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));cursor:pointer;margin-left:0.5rem;margin-top:auto;margin-bottom:auto;z-index:100;}.css-15afv4q:hover{background-color:#404040;color:#FFFFFF;}.css-15afv4q:hover{--transform-scale-x:1.05;--transform-scale-y:1.05;}</style><button title="top page" class="css-15afv4q"><style data-emotion-css="13htjwu">.css-13htjwu{width:1rem;height:1rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-13htjwu" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M868 545.5L536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"></path></svg></button></div><style data-emotion-css="1k8xcyw">.css-1k8xcyw{text-align:center;padding-top:2rem;padding-bottom:2rem;bottom:0;}</style><footer class="css-1k8xcyw"><style data-emotion-css="1xju3od">.css-1xju3od{font-size:0.75rem;font-weight:700;}</style><a href="https://github.com/Seongwon97" class="css-1xju3od">©Momo</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-Y3VQCJ7ZEX', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/Backend/20221020-모모팀-서비스성능-개선결과/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2f72579fb641bf14a0fa.js"],"app":["/app-d1a6932a45bfd024ad29.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0a6852889ec28cc0cb78.js"],"component---src-pages-index-js":["/component---src-pages-index-js-df04c8a92b3d2d8d3fc9.js"],"component---src-pages-search-js":["/component---src-pages-search-js-9304c0011dcd53f925c6.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-4910a6c560d7a355cf37.js"],"component---src-templates-category-js":["/component---src-templates-category-js-00675ddb0659eb6056e0.js"]};/*]]>*/</script><script src="/polyfill-2f72579fb641bf14a0fa.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-4910a6c560d7a355cf37.js" async=""></script><script src="/7a297f752dcfe258c0b0106d89edb3a916af916e-ba3bed115b500439fc94.js" async=""></script><script src="/commons-b839ac3ef2817b5d267d.js" async=""></script><script src="/1bfc9850-409296e666dade882413.js" async=""></script><script src="/5e2a4920-da90abce4a08c86a094c.js" async=""></script><script src="/d7eeaac4-dcbe97e7a5aa158c9d08.js" async=""></script><script src="/app-d1a6932a45bfd024ad29.js" async=""></script><script src="/dc6a8720040df98778fe970bf6c000a41750d3ae-17eb047fb821ccbad0b0.js" async=""></script><script src="/styles-84a9bc99193fe5828ffe.js" async=""></script><script src="/framework-eb684e3e828ad13b3940.js" async=""></script><script src="/webpack-runtime-91d2ca5880d6e7d8e505.js" async=""></script></body></html>