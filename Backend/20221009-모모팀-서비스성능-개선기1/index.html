<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0"/><style data-href="/styles.d53766664f3eaba3db40.css" id="gatsby-global-css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}</style><meta name="generator" content="Gatsby 2.32.13"/><style type="text/css">
    .toc-header.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .toc-header.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .toc-header svg,
    h2 .toc-header svg,
    h3 .toc-header svg,
    h4 .toc-header svg,
    h5 .toc-header svg,
    h6 .toc-header svg {
      visibility: hidden;
    }
    h1:hover .toc-header svg,
    h2:hover .toc-header svg,
    h3:hover .toc-header svg,
    h4:hover .toc-header svg,
    h5:hover .toc-header svg,
    h6:hover .toc-header svg,
    h1 .toc-header:focus svg,
    h2 .toc-header:focus svg,
    h3 .toc-header:focus svg,
    h4 .toc-header:focus svg,
    h5 .toc-header:focus svg,
    h6 .toc-header:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/favicon-32x32-1134414851454382d55f3e82eb460d40.png" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#3F4145"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384-1134414851454382d55f3e82eb460d40.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512-1134414851454382d55f3e82eb460d40.png"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">모모팀 서비스 성능 개선기1 (의존관계 개선) | 모모의 기술 블로그</title><meta data-react-helmet="true" name="description" content="해당 포스트는 모모팀 크루 렉스가 작성하였습니다. 기존 객체 의존관계의 문제점 모모팀 프로젝트는 모임 관련 서비스인만큼 모임 찜하기, 모임 참여하기 등의 기능이 추가될 때마다 Group(모임)객체를 중심으로 개발이 진행되게 되었다. 처음에는 성능 생각 없이 주먹구구식으로 개발을 진행하다보니 Group객체에 기능이 하나씩 붙게 되며 Group이라는 객체가 …"/><meta data-react-helmet="true" property="og:title" content="모모팀 서비스 성능 개선기1 (의존관계 개선)"/><meta data-react-helmet="true" property="og:image" content="/static/social-image-78ea8dbe9ea55ddf7384fb9b357c15ca.png"/><meta data-react-helmet="true" property="og:description" content="해당 포스트는 모모팀 크루 렉스가 작성하였습니다. 기존 객체 의존관계의 문제점 모모팀 프로젝트는 모임 관련 서비스인만큼 모임 찜하기, 모임 참여하기 등의 기능이 추가될 때마다 Group(모임)객체를 중심으로 개발이 진행되게 되었다. 처음에는 성능 생각 없이 주먹구구식으로 개발을 진행하다보니 Group객체에 기능이 하나씩 붙게 되며 Group이라는 객체가 …"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:image" content="/static/social-image-78ea8dbe9ea55ddf7384fb9b357c15ca.png"/><meta data-react-helmet="true" name="twitter:creator" content="momo"/><meta data-react-helmet="true" name="twitter:title" content="모모팀 서비스 성능 개선기1 (의존관계 개선)"/><meta data-react-helmet="true" name="twitter:description" content="해당 포스트는 모모팀 크루 렉스가 작성하였습니다. 기존 객체 의존관계의 문제점 모모팀 프로젝트는 모임 관련 서비스인만큼 모임 찜하기, 모임 참여하기 등의 기능이 추가될 때마다 Group(모임)객체를 중심으로 개발이 진행되게 되었다. 처음에는 성능 생각 없이 주먹구구식으로 개발을 진행하다보니 Group객체에 기능이 하나씩 붙게 되며 Group이라는 객체가 …"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-91d2ca5880d6e7d8e505.js"/><link as="script" rel="preload" href="/framework-eb684e3e828ad13b3940.js"/><link as="script" rel="preload" href="/styles-84a9bc99193fe5828ffe.js"/><link as="script" rel="preload" href="/dc6a8720040df98778fe970bf6c000a41750d3ae-17eb047fb821ccbad0b0.js"/><link as="script" rel="preload" href="/app-d1a6932a45bfd024ad29.js"/><link as="script" rel="preload" href="/d7eeaac4-dcbe97e7a5aa158c9d08.js"/><link as="script" rel="preload" href="/5e2a4920-da90abce4a08c86a094c.js"/><link as="script" rel="preload" href="/1bfc9850-409296e666dade882413.js"/><link as="script" rel="preload" href="/commons-b839ac3ef2817b5d267d.js"/><link as="script" rel="preload" href="/7a297f752dcfe258c0b0106d89edb3a916af916e-ba3bed115b500439fc94.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-4910a6c560d7a355cf37.js"/><link as="fetch" rel="preload" href="/page-data/Backend/20221009-모모팀-서비스성능-개선기1/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3911196313.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4111100897.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript><style data-emotion-css="zp4s6h">.css-zp4s6h{position:fixed;bottom:0;left:0;margin-left:0.5rem;margin-bottom:0.5rem;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));font-size:0.875rem;font-weight:700;padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:0.75rem;background-color:#A5CC82;z-index:9999;}</style><div class="css-zp4s6h"><style data-emotion-css="5x4yj0">.css-5x4yj0{fill:currentColor;width:1.5rem;height:1.5rem;margin-right:0.5rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" class="css-5x4yj0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"></path></svg><style data-emotion-css="1f2k2gl">.css-1f2k2gl{margin-left:0.5rem;}</style><div class="css-1f2k2gl">Please enable JavaScript to use this site.<br/>JavaScript를 활성화 시켜주세요.</div></div></noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="f6s0ma">.css-f6s0ma{-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#333333;}</style><style data-emotion-css="acifd">.css-acifd{min-height:100vh;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#333333;}</style><div class="css-acifd e5jinln0"><style data-emotion-css="8ezs2g">.css-8ezs2g{min-height:calc(100vh - 100px);}</style><div class="css-8ezs2g"><style data-emotion-css="17vgyms">.css-17vgyms{background:linear-gradient( 90deg,#00467F,#A5CC82 );}</style><div class="css-17vgyms"><style data-emotion-css="1mqm4zt">.css-1mqm4zt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:1280px;margin-left:auto;margin-right:auto;padding:1.25rem;}</style><nav class="css-1mqm4zt eocge8f0"><style data-emotion-css="1usmgm5">.css-1usmgm5{font-size:1.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));font-weight:700;}</style><a class="css-1usmgm5" href="/">모모팀의 기술 블로그</a><a aria-label="search page" href="/search"><style data-emotion-css="47445j">.css-47445j{--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));margin-top:auto;margin-bottom:auto;width:2rem;height:2rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-47445j" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></a></nav></div><style data-emotion-css="1d3ps91">.css-1d3ps91{background:linear-gradient( 90deg,#00467F,#A5CC82 );position:fixed;width:100%;box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);z-index:100;-webkit-transition:all 300ms cubic-bezier(0,0,0.2,1);transition:all 300ms cubic-bezier(0,0,0.2,1);top:-100px;}</style><div class="css-1d3ps91"><nav class="css-1mqm4zt eocge8f0"><a class="css-1usmgm5" href="/">모모팀의 기술 블로그</a><a aria-label="search page" href="/search"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-47445j" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></a></nav></div><style data-emotion-css="w27u98">.css-w27u98{margin-top:1rem;padding-left:1rem;padding-right:1rem;}</style><div class="blog-post-container css-w27u98"><div class="blog-post"><style data-emotion-css="1bdwg0l">.css-1bdwg0l{width:100%;max-width:768px;margin-left:auto;margin-right:auto;}</style><div class="css-1bdwg0l e6qprj20"><style data-emotion-css="1abxlfd">.css-1abxlfd{font-size:2.25rem;font-weight:700;margin-bottom:1rem;}@media (min-width:768px){.css-1abxlfd{font-size:3rem;}}</style><h1 class="blog-title css-1abxlfd">모모팀 서비스 성능 개선기1 (의존관계 개선)</h1><style data-emotion-css="cpn9zx">.css-cpn9zx{font-size:1rem;margin-bottom:1rem;}</style><h2 class="blog-date css-cpn9zx">2022년 10월 09일</h2><style data-emotion-css="cet0rr">.css-cet0rr{margin-bottom:0.5rem;}</style><div class="blog-tags css-cet0rr"><style data-emotion-css="engchn">.css-engchn{white-space:nowrap;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);font-size:1rem;font-weight:700;border-radius:9999px;margin-right:0.5rem;margin-top:0.25rem;margin-bottom:0.25rem;padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.75rem;padding-right:0.75rem;background-color:#edf2f7;color:#00467F;}</style><button class="css-engchn">SpringFramework</button><button class="css-engchn">성능 개선기</button><button class="css-engchn">의존관계 개선</button></div><style data-emotion-css="1l4w6pd">.css-1l4w6pd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}</style><div class="css-1l4w6pd"><style data-emotion-css="164tafw">.css-164tafw{border-radius:9999px;width:100%;height:1px;--bg-opacity:1;background-color:rgba(247,250,252,var(--bg-opacity));background:linear-gradient( 270deg,#00467F,#A5CC82,#FFC500 );}</style><div class="css-164tafw"></div></div></div><div class="blog-content"><style data-emotion-css="qwqmam">.css-qwqmam{-webkit-scrollbar-width:thin;-moz-scrollbar-width:thin;-ms-scrollbar-width:thin;scrollbar-width:thin;-webkit-scrollbar-color:gray transparent;-moz-scrollbar-color:gray transparent;-ms-scrollbar-color:gray transparent;scrollbar-color:gray transparent;display:none;}.css-qwqmam::-webkit-scrollbar{width:4px;}.css-qwqmam::-webkit-scrollbar-track{background-color:transparent;}.css-qwqmam::-webkit-scrollbar-thumb{border-radius:9999px;background-color:gray;}.css-qwqmam::-webkit-scrollbar-button{width:0;height:0;}@media screen and (min-width:1280px){.css-qwqmam{float:right;position:-webkit-sticky;position:sticky;top:100px;width:calc((100vw - 720px) / 2 - 80px);max-width:250px;margin-right:1rem;overflow:auto;word-break:break-word;max-height:calc(100vh - 200px);fontsize:1rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-left-width:4px;border-image:linear-gradient( 180deg,#00467F,#A5CC82,#FFC500 );border-image-slice:1;}}</style><div class="css-qwqmam"><style data-emotion-css="13af3fo">.css-13af3fo{margin-left:1rem;margin-right:1rem;}</style><div class="css-13af3fo"><style data-emotion-css="17i5xbf">.css-17i5xbf{font-weight:700;margin-bottom:0.5rem;font-size:1.125rem;--text-opacity:1;color:rgba(74,85,104,var(--text-opacity));}</style><h3 class="css-17i5xbf">TOC</h3><style data-emotion-css="1me4zjn">.css-1me4zjn ul{margin-left:0.5rem;}.css-1me4zjn ul > li a:hover{color:#555555;}.css-1me4zjn ul > li a{-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);--text-opacity:1;color:rgba(160,174,192,var(--text-opacity));font-size:0.875rem;}.css-1me4zjn ul > li a[href=""]{font-size:0.95rem;color:#555555;}</style><div class="css-1me4zjn"><ul>
<li>
<p><a href="/Backend/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/#%EA%B8%B0%EC%A1%B4-%EA%B0%9D%EC%B2%B4-%EC%9D%98%EC%A1%B4%EA%B4%80%EA%B3%84%EC%9D%98-%EB%AC%B8%EC%A0%9C%EC%A0%90">기존 객체 의존관계의 문제점</a></p>
<ul>
<li>
<ul>
<li><a href="/Backend/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/#1-%EC%A0%90%EC%A0%90-%EB%A7%8E%EC%95%84%EC%A7%80%EB%8A%94-%EA%B0%9D%EC%B2%B4%EC%9D%98-%EC%B1%85%EC%9E%84">1. 점점 많아지는 객체의 책임</a></li>
<li><a href="/Backend/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/#2-%EC%84%B1%EB%8A%A5-%EC%A0%80%ED%95%98">2. 성능 저하</a></li>
<li><a href="/Backend/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/#3-%EB%8F%85%EB%A6%BD%EC%A0%81%EC%9D%B4%EC%A7%80-%EB%AA%BB%ED%95%9C-%EA%B8%B0%EB%8A%A5">3. 독립적이지 못한 기능</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="/Backend/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/#%EC%B0%9C%ED%95%98%EA%B8%B0favorite-%EA%B8%B0%EB%8A%A5%EC%9D%98-%EB%AA%A8%EB%93%88%ED%99%94">찜하기(Favorite) 기능의 모듈화</a></p>
<ul>
<li><a href="/Backend/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/#group%EA%B3%BC-favorite%EA%B0%9D%EC%B2%B4%EA%B0%84-%EC%9D%98%EC%A1%B4%EA%B4%80%EA%B3%84-%EB%B3%80%EA%B2%BD">Group과 Favorite객체간 의존관계 변경</a></li>
<li><a href="/Backend/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/#group%EC%9D%B4-%EC%82%AD%EC%A0%9C%EB%90%A0-%EB%95%8C-%EA%B8%B0%EC%A1%B4-favorite%EC%9D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C">Group이 삭제될 때 기존 Favorite의 데이터는 어떻게!?</a></li>
</ul>
</li>
<li><a href="/Backend/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/#%EB%81%9D%EB%82%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EB%B6%84%EB%A6%AC">끝나지 않은 분리</a></li>
<li><a href="/Backend/20221009-%EB%AA%A8%EB%AA%A8%ED%8C%80-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%84%B1%EB%8A%A5-%EA%B0%9C%EC%84%A0%EA%B8%B01/#%EB%A7%88%EC%B9%98%EB%A9%B0">마치며</a></li>
</ul></div></div></div><div class="css-1bdwg0l e6qprj20"><div><style data-emotion-css="14b4smw">.css-14b4smw{font-size:1rem;word-break:break-word;}.css-14b4smw h1 > a > svg,.css-14b4smw h2 > a > svg,.css-14b4smw h3 > a > svg,.css-14b4smw h4 > a > svg,.css-14b4smw h5 > a > svg,.css-14b4smw h6 > a > svg{fill:#000;}.css-14b4smw h1,.css-14b4smw h2{font-size:1.25rem;font-weight:600;margin-top:1.5rem;margin-bottom:1.5rem;}.css-14b4smw h3,.css-14b4smw h4,.css-14b4smw h5,.css-14b4smw h6{font-size:1.125rem;margin-top:1.5rem;margin-bottom:1.5rem;font-weight:600;}@media (min-width:640px){.css-14b4smw h1,.css-14b4smw h2{font-size:1.5rem;}.css-14b4smw h3,.css-14b4smw h4,.css-14b4smw h5,.css-14b4smw h6{font-size:1.25rem;}}.css-14b4smw a{color:#00467F;}.css-14b4smw a:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-14b4smw p{margin:0.3rem;margin-top:0.75rem;margin-bottom:0.75rem;}.css-14b4smw ul,.css-14b4smw ol{margin:0.3rem;margin-left:2rem;}.css-14b4smw li > p,.css-14b4smw li > ul,.css-14b4smw li > ol{margin-bottom:0;}.css-14b4smw ol{list-style-type:decimal;}.css-14b4smw ul{list-style-type:disc;}.css-14b4smw blockquote{padding:0.5rem;background-color:#eee;margin:0.3rem;margin-top:0.5rem;margin-bottom:0.5rem;border-left-width:4px;border-color:#A5CC82;}.css-14b4smw blockquote > p{margin:0.5rem;}.css-14b4smw blockquote > h1,.css-14b4smw blockquote > h2,.css-14b4smw blockquote > h3,.css-14b4smw blockquote > h4,.css-14b4smw blockquote > h5{margin-top:0.5rem;margin-bottom:0.5rem;}.css-14b4smw td,.css-14b4smw th{padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-width:1px;border-color:#A5CC82;}.css-14b4smw tr:nth-of-type(even){background-color:#eee;}.css-14b4smw th{background-color:#eee;}.css-14b4smw table{margin-bottom:1.5rem;display:block;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;margin:0 auto;overflow-x:auto;white-space:nowrap;}.css-14b4smw p > code,.css-14b4smw li > code{padding-top:0.1rem;padding-bottom:0.1rem;padding-right:0.25rem;padding-left:0.25rem;border-radius:0.25rem;color:#00467F;background-color:#eee;white-space:pre-line;}.css-14b4smw pre.grvsc-container{margin-top:24px;margin-bottom:24px;}.css-14b4smw hr{margin-top:24px;margin-bottom:24px;height:2px;border:none;background:linear-gradient( 270deg,#00467F,#A5CC82,#FFC500 );}</style><div class="markdown css-14b4smw"><blockquote>
<p>해당 포스트는 모모팀 크루 <a href="https://github.com/Seongwon97">렉스</a>가 작성하였습니다.</p>
</blockquote>
<h1 id="기존-객체-의존관계의-문제점" style="position:relative;"><a href="#%EA%B8%B0%EC%A1%B4-%EA%B0%9D%EC%B2%B4-%EC%9D%98%EC%A1%B4%EA%B4%80%EA%B3%84%EC%9D%98-%EB%AC%B8%EC%A0%9C%EC%A0%90" aria-label="기존 객체 의존관계의 문제점 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>기존 객체 의존관계의 문제점</h1>
<p><a href="https://github.com/woowacourse-teams/2022-momo">모모팀 프로젝트</a>는 모임 관련 서비스인만큼 모임 찜하기, 모임 참여하기 등의 기능이 추가될 때마다 Group(모임)객체를 중심으로 개발이 진행되게 되었다. 처음에는 성능 생각 없이 주먹구구식으로 개발을 진행하다보니 Group객체에 기능이 하나씩 붙게 되며 Group이라는 객체가 점점 커지게 되었다. Group과 관계를 맺고 있는 객체들의 관계는 아래와 같다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 48.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSElEQVQoz32S6arCQAyF5/3fo4/SH1ahf5RCcWnd0LrVre4e7xcY6ZXrDQxJZpKT5EycfuRyuaiqKp1OJx2PR12vV671fD6/as7j8Xj72Gh3u900m83U6/XU7XY1GAy02Wx+JX4eL8vlUmmaajQaaTKZqCxLObqbz+fqdDpqNptqt9tWgOBvAuh0OrVpoihSEATWzG63kyOAB875fH7bVCOA8ff7vVGCDy3b7Var1co0dzSExnf1Eeo2Ai/r9doSsiwzKigETf6dCfHRiNM/QgJVx+OxGo2GgR4OBwP9JgbIOIxJMGPT1WKxUL/fNz5593TQJffYFKQ7f/Ad5PPDw+HQfoouAAEUIL8adYEvcogjntw8zy3HFUVhP9tqtRSGoeI4tm4+f/VzbZiGKZIksRy0Ad7vd2sfUv2Cc1cH+mupEf/LgGOzDS/yQAEnojFwxAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/5cc1f07c0a20efc93cfb353b68fa2996/c1b63/img.png"
        srcset="/static/5cc1f07c0a20efc93cfb353b68fa2996/5a46d/img.png 300w,
/static/5cc1f07c0a20efc93cfb353b68fa2996/0a47e/img.png 600w,
/static/5cc1f07c0a20efc93cfb353b68fa2996/c1b63/img.png 1200w,
/static/5cc1f07c0a20efc93cfb353b68fa2996/d61c2/img.png 1800w,
/static/5cc1f07c0a20efc93cfb353b68fa2996/5e703/img.png 1942w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>지금까지의 개발 방식으로 서비스를 확장할 경우 확장성을 고려하였을 때, 모임에 Q&#x26;A 기능을 추가하였을 때 추가되는 Comment, 이미지 기능을 추가하였을 때 추가되는 Thumbnail과 같은 객체들이 모두 Group과 서로 의존하게 되며 Group의 크기는 아래와 같이 점점 비대해질 것이다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 60.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABiElEQVQoz32S64rCQAyF5/1fpa8gWEGxFhH8UQXFH2rx2npttWpr3C/LDEXYDZxOZyY5yUnGyI+9Xi95PB4O7/ebY123263idDrJ4XCQNE3dnbX6v4FgtVq5QJDnuV7ebjdZr9fSbrel2+0q5vO5C06SRIE/ybIsE8MHp16vJ61WS6bTqez3eyXDjsejVhfHsZ7zj1EpJI1GQzzPk9lsJpfLRQxyuSQQ4ASo7Pl8SlVV6hgEgVaAPEgXi4Xu8YuiSM+AsT0gENT7hxSS7HY7TQoBK0VgRVGoD23jjnhTb+i3EXC/31WO7/taDdV+D6Jupp4J4EhGAukbJGS3LWG/XC4dwbcygwQkQXA+n3Vq9IfJ00vIsfF4rHsMUpKxt0OD53q9ikFOp9PRKTebTZlMJu7ZWCMZ07dyy7LUhJvNRgaDgfT7fRmNRr9DwQlJgAxkJMAG8i6pmvv6w+bOqsOH1U2ZN2dhyTAGgrwwDFXFcDjUYGs8K/pPW1j/nLI9w4GsEAOqpM//TfkD4aSUxhOphbAAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/9b964e5dd5b59173e713decc82eb8b02/c1b63/img_1.png"
        srcset="/static/9b964e5dd5b59173e713decc82eb8b02/5a46d/img_1.png 300w,
/static/9b964e5dd5b59173e713decc82eb8b02/0a47e/img_1.png 600w,
/static/9b964e5dd5b59173e713decc82eb8b02/c1b63/img_1.png 1200w,
/static/9b964e5dd5b59173e713decc82eb8b02/d61c2/img_1.png 1800w,
/static/9b964e5dd5b59173e713decc82eb8b02/064b2/img_1.png 1874w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>지금 생각나는 위와 같이 <strong>Monolithic</strong>과 유사한 구조의 단점은 다음과 같다.</p>
<h3 id="1-점점-많아지는-객체의-책임" style="position:relative;"><a href="#1-%EC%A0%90%EC%A0%90-%EB%A7%8E%EC%95%84%EC%A7%80%EB%8A%94-%EA%B0%9D%EC%B2%B4%EC%9D%98-%EC%B1%85%EC%9E%84" aria-label="1 점점 많아지는 객체의 책임 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 점점 많아지는 객체의 책임</h3>
<p>위와 같은 구조의 개발은 새로운 기능을 추가할 때마다 Group객체에 새로 추가되는 기능의 코드들이 추가될 것이다. 즉, Group 객체가 갖는 책임이 그만큼 커질 것이다.</p>
<h3 id="2-성능-저하" style="position:relative;"><a href="#2-%EC%84%B1%EB%8A%A5-%EC%A0%80%ED%95%98" aria-label="2 성능 저하 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 성능 저하</h3>
<p>또한 Group도메인에 애플리케이션의 성능 상에서도 좋지 못할 것이다. Group의 Host가 누구인지 알기 위한 단순한 조회를 하려고 하더라도 Group은 연관된 모든 객체들을 생성할 것이다. 물론 JPA에서 지연로딩을 통해 Proxy객체를 생성하여 사용한다 하더라도 이 또한 객체이기는 하여서 메모리와 GC의 동작 측면에서 비효율적일 것이다.</p>
<h3 id="3-독립적이지-못한-기능" style="position:relative;"><a href="#3-%EB%8F%85%EB%A6%BD%EC%A0%81%EC%9D%B4%EC%A7%80-%EB%AA%BB%ED%95%9C-%EA%B8%B0%EB%8A%A5" aria-label="3 독립적이지 못한 기능 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 독립적이지 못한 기능</h3>
<p>그림으로 보면 알겠지만 Participant, Favorite, Comment, Thumbnail과 같은 부가기능들은 Group과 양방향 연관관계를 형성하고 있다. 서비스를 운영하며 특정 기능을 제거시킬 때, 기능을 분리하려면 Group과 관련된 전체 서비스 코드를 건드려야 할 것이다. 부가 기능을 추가하거나 제거할 때 서비스의 핵심 객체인 Group객체의 변경을 주게 되는 것은 혹여나 잘못된 코드를 건드려서 예상하지 못한 오류를 발생시킬 수도 있어 매우 위험한 작업이다. 또한 한 곳에 모여있지 않고 분산되어있는 코드들을 모두 삭제하지 못하고 일부 코드를 남기게 되며 레거시 코드가 만들어질 수도 있다.</p>
<p>위와 같은 여러 이유들 때문에 같이 분리할 수 있는 기능들 사이의 의존성을 분리하고 각각의 기능들을 모듈화 하여 <strong>MSA(MicroService Architecture)</strong>와 유사한 구조로 리펙터링을 진행하였다.</p>
<blockquote>
<p>Monolithic, MSA 아키텍처는 애플리케이션 내부의 객체간의 관계를 설명하기 위한 예시로 말한 것일 뿐, 실제 MSA, Monolithic은 각각의 애플리케이션을 작은 서비스로 나누어 구축하는지, 하나로 묶어서 운영하는지 등의 서비스 아키텍처를 의미한다.
즉, Monolithic는 실제로 하나의 애플리케이션 안에 모임 참여하기, 찜하기, 코멘트 남기기와 같은 모든 기능을 하나의 서비스에 담은 것이며 이를 MSA로 분리할 경우 기능들이 각각의 서비스가 되어 운영이 된다.</p>
</blockquote>
<h1 id="찜하기favorite-기능의-모듈화" style="position:relative;"><a href="#%EC%B0%9C%ED%95%98%EA%B8%B0favorite-%EA%B8%B0%EB%8A%A5%EC%9D%98-%EB%AA%A8%EB%93%88%ED%99%94" aria-label="찜하기favorite 기능의 모듈화 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>찜하기(Favorite) 기능의 모듈화</h1>
<p>찜하기 기능은 모임 서비스의 핵심 기능이 아닌 부가 기능이라 판단하였다. 이에 찜하기 기능을 앞서 언급한바와 같이 Group 객체와 의존 관계를 끊어내며 모듈화 작업을 진행하였다.</p>
<p>모모팀 서비스의 Group과 Favorite은 다음과 같이 서로의 객체를 갖고 있는 양방향 의존 관계를 갖고 있었다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 31.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgElEQVQY04WPv0tbYRSG719R1Fbt/ZV7vy+5N8ZoFAkdEvVChlLSiq01hhsloOigm/4N0ql7S9uhWyNejSh0yyB0CmQLGZshY9omTk+/puBU6AsPB97z8h6OVt1Zx4np+Mk4Qkpc4eK6Lo4rsGP2CNM0sW2b8YkJtrZK7O9tks9lCYKA/PIyq6sB2aUsh0eHaNthCS8eYzY9i+/7iiTJP3geXiJxT1LtbFVcqWzz7GmAcM1RXso4nsoaukEYVv4WzqVcMgsZ0qk0+UWfJ5kZ5lQonZCK+Ih5Xx2wDHbDkEJhhYTUEeobx3HUlExPTVMul9HWXhR59HAMw7TQlZmyJsnMCDwhcAwdaVtIy0JYNo/HHlB59ZKD/SprzwtsbLxms7ROsVgkl8txcnKM1mg0qNXOiKJz6vU6n96/4+2bUz5//MDXqyuuo4ibywuuLyIua1/4dnvL8O6Ofr9Pq9Wi2WzSbrcZDAYMh0M0/qHv3S4/fv7if+qqXKfTodfr3Xu/AfhpFURZ0K79AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/31aec59c774ee534a4b5193ef4ecca76/c1b63/img_2.png"
        srcset="/static/31aec59c774ee534a4b5193ef4ecca76/5a46d/img_2.png 300w,
/static/31aec59c774ee534a4b5193ef4ecca76/0a47e/img_2.png 600w,
/static/31aec59c774ee534a4b5193ef4ecca76/c1b63/img_2.png 1200w,
/static/31aec59c774ee534a4b5193ef4ecca76/d61c2/img_2.png 1800w,
/static/31aec59c774ee534a4b5193ef4ecca76/e8950/img_2.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>찜하기 기능을 완전히 분리하기 위해서는 먼저 Group객체가 Favorite의 존재를 모르도록 객체간의 의존성을 단방향 관계로 변경해야 했다.</p>
<h2 id="group과-favorite객체간-의존관계-변경" style="position:relative;"><a href="#group%EA%B3%BC-favorite%EA%B0%9D%EC%B2%B4%EA%B0%84-%EC%9D%98%EC%A1%B4%EA%B4%80%EA%B3%84-%EB%B3%80%EA%B2%BD" aria-label="group과 favorite객체간 의존관계 변경 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Group과 Favorite객체간 의존관계 변경</h2>
<p>기존 로직에서는 JPA의 <code>cascade</code>와 <code>orphanRemoval</code>을 통해 찜하기, 찜하기 취소 등의 로직이 수행되게 하였다.  덕분에 <code>FavoriteRepository</code>, <code>FavoriteService</code>와 같은 클래스들 없이 단순히 Group객체 내부에 있는 <code>List&#x3C;Favorite></code>에 데이터를 넣고 빼는 작업만으로 DB에서의 CUD작업을 진행할 수 있었다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Getter</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">NoArgsConstructor</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Embeddable</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">Favorites</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">OneToMany</span><span class="mtk4">(</span><span class="mtk7">mappedBy</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;group&quot;</span><span class="mtk1">,</span><span class="mtk4"> </span><span class="mtk7">cascade</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk11">CascadeType</span><span class="mtk1">.</span><span class="mtk4">PERSIST</span><span class="mtk1">,</span><span class="mtk4"> </span><span class="mtk7">orphanRemoval</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk7">true</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">List</span><span class="mtk1">&lt;</span><span class="mtk11">Favorite</span><span class="mtk1">&gt;</span><span class="mtk4"> favorites </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk9">new</span><span class="mtk4"> </span><span class="mtk11">ArrayList</span><span class="mtk1">&lt;&gt;</span><span class="mtk4">()</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk9">void</span><span class="mtk3"> like</span><span class="mtk1">(</span><span class="mtk11">Group</span><span class="mtk1"> </span><span class="mtk4 mtki">group</span><span class="mtk1">, </span><span class="mtk11">Member</span><span class="mtk1"> </span><span class="mtk4 mtki">member</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">validateMemberNotYetLike</span><span class="mtk1">(member);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">Favorite</span><span class="mtk1"> </span><span class="mtk4">favorite</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk3">Favorite</span><span class="mtk1">(group, member);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">favorites</span><span class="mtk1">.</span><span class="mtk3">add</span><span class="mtk1">(favorite);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk9">void</span><span class="mtk3"> cancel</span><span class="mtk1">(</span><span class="mtk11">Member</span><span class="mtk1"> </span><span class="mtk4 mtki">member</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">validateMemberAlreadyLike</span><span class="mtk1">(member);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">favorites</span><span class="mtk1">.</span><span class="mtk3">stream</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                .</span><span class="mtk3">filter</span><span class="mtk1">(favorite </span><span class="mtk9">-&gt;</span><span class="mtk1"> </span><span class="mtk11">favorite</span><span class="mtk1">.</span><span class="mtk3">isSameMember</span><span class="mtk1">(member))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                .</span><span class="mtk3">findAny</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                .</span><span class="mtk3">ifPresent</span><span class="mtk1">(favorites</span><span class="mtk9">::</span><span class="mtk1">remove);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>하지만 Group 객체와 Favorite객체를 완전히 분리하며 <code>cascade</code>와 <code>orphanRemoval</code>를 통한 Favorite 데이터의 생명주기를 관리할 수 없게 되었고 그 결과 <code>FavoriteRepository</code>, <code>FavoriteService</code> 가 생겨나게 되었다. 즉, 기존에 JPA의 <code>cascade</code>와 <code>orphanRemoval</code> 기능에 의존하여 실행하던 CUD 작업을 직접 Service, Repository를 통해 명시적으로 직접 진행하게 변경되었다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">RequiredArgsConstructor</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Transactional</span><span class="mtk4">(</span><span class="mtk7">readOnly</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk7">true</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Service</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">FavoriteService</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">GroupValidator</span><span class="mtk4"> groupValidator</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">MemberValidator</span><span class="mtk4"> memberValidator</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">FavoriteRepository</span><span class="mtk4"> favoriteRepository</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Transactional</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk9">void</span><span class="mtk3"> like</span><span class="mtk1">(</span><span class="mtk11">Long</span><span class="mtk1"> </span><span class="mtk4 mtki">groupId</span><span class="mtk1">, </span><span class="mtk11">Long</span><span class="mtk1"> </span><span class="mtk4 mtki">memberId</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">groupValidator</span><span class="mtk1">.</span><span class="mtk3">validateExistGroup</span><span class="mtk1">(groupId);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">memberValidator</span><span class="mtk1">.</span><span class="mtk3">validateExistMember</span><span class="mtk1">(memberId);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">validateMemberNotYetLike</span><span class="mtk1">(groupId, memberId);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">Favorite</span><span class="mtk1"> </span><span class="mtk4">favorite</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk3">Favorite</span><span class="mtk1">(groupId, memberId);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">favoriteRepository</span><span class="mtk1">.</span><span class="mtk3">save</span><span class="mtk1">(favorite);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Transactional</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk9">void</span><span class="mtk3"> cancel</span><span class="mtk1">(</span><span class="mtk11">Long</span><span class="mtk1"> </span><span class="mtk4 mtki">groupId</span><span class="mtk1">, </span><span class="mtk11">Long</span><span class="mtk1"> </span><span class="mtk4 mtki">memberId</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">Favorite</span><span class="mtk1"> </span><span class="mtk4">favorite</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk11">favoriteRepository</span><span class="mtk1">.</span><span class="mtk3">findByGroupIdAndMemberId</span><span class="mtk1">(groupId, memberId)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">                .</span><span class="mtk3">orElseThrow</span><span class="mtk1">(() </span><span class="mtk9">-&gt;</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk3">GroupException</span><span class="mtk1">(MEMBER_NOT_YET_LIKE));</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">favoriteRepository</span><span class="mtk1">.</span><span class="mtk3">delete</span><span class="mtk1">(favorite);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>Favorite 엔티티에 대한 작업을 진행해주는 <code>FavoriteRepository</code>, <code>FavoriteService</code> 를 만들고 해당 클래스들을 favorite패키지에서 관리를 하니 “찜하기”, “찜하기 취소” 기능에 대해서는 확실히 Group과 Favorite의 관계를 단방향 의존 관계로 변경하게 되었다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 408px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 72%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB60lEQVQ4y4VT13KbUBDVV9kIoYYQTXTRu+KxH+RJMin/f7K7NhrJI8cPy3Lhcu4py2y53kLf7aEbFtK6h+MFcA4+DNOGS/3gh9hsd+B9U2mrzc36umZ82VsOdgTw8uMPsrpD23Yo6wZV02E8fcOWDlRUDaq2uoB9BiqAvJE7MzEsF1kzyAHM0rRdOK4HL4iE7Wqjf82QizfuDBOW6+Pp/BNxWqAmhnlZoW57NF2PfjwJ28Vy/X9APpEBdWMP0/GIYU/AnvhpOa54aTmHi5IvJU+ALNGij5+//0ZelBjaVrxs+wFJmgmz+WJ518fpfnb9kj/gPlcUqGEOpX/FweOkA2EYJUf4YYz1h9TvMrx5sSQWSQf19BcegZV1S17WUhkx5/2cOrO9LiZ0F1BbUkDxCva4gB/EkrBNnvphhCBKBJjv+XkYJ8Q8JSUBZWDel6w8athEK+ijRoEEKCpmVgnTthukd/2IbhhRvT/jzrZcGLIvewrF9kIML2cCihCFmcwel0teXsvjxOdU0t/XN5LfxsbE3j6gfz4jPqZo6hpRfKSEc1krKoPdgkzeXUL5KHnBkh8eocY1Hk6/EIhPR2IYIM0LpFkho8TecfFh/DdNoJ+kTAMcUZo8NjSXRdXIH5PmpXQGnFizdxzYBPgPS18BBiRZkMAAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/73a6d9e0bf833fde7d1bcdaeeaca123c/e7c18/img_3.png"
        srcset="/static/73a6d9e0bf833fde7d1bcdaeeaca123c/5a46d/img_3.png 300w,
/static/73a6d9e0bf833fde7d1bcdaeeaca123c/e7c18/img_3.png 408w"
        sizes="(max-width: 408px) 100vw, 408px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>하지만 아직 아직 아래의 두가지 상황에 대해서는 의존을 분리하지 못한 상태이다.</p>
<ul>
<li>모임이 삭제될 때, 해당 모임과 관련있는 찜하기 데이터를 삭제하여야 한다.</li>
<li>찜한 모임 조회 기능을 아직 <code>GroupSearchService</code>에서 진행하고 있어, Group과 Favorite 패키지 간의 의존성이 아직 완전히 끊어지지 않았다.</li>
</ul>
<h2 id="group이-삭제될-때-기존-favorite의-데이터는-어떻게" style="position:relative;"><a href="#group%EC%9D%B4-%EC%82%AD%EC%A0%9C%EB%90%A0-%EB%95%8C-%EA%B8%B0%EC%A1%B4-favorite%EC%9D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8A%94-%EC%96%B4%EB%96%BB%EA%B2%8C" aria-label="group이 삭제될 때 기존 favorite의 데이터는 어떻게 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Group이 삭제될 때 기존 Favorite의 데이터는 어떻게!?</h2>
<p>이전 작업을 통해 단순히 찜하기, 찜하기 취소 등의 단일 요청에 대해서는 의존을 완전히 분리하였다. 하지만 모임이 삭제요청이 들어왔을 때, 아래의 이미지와 같이 연관된 찜하기 데이터를 삭제하기 위해서는 <code>GroupService</code>가 <code>FavoriteRepository</code>의 존재를 여전히 알고 있어야 했다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 27.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVQY02WO0UrCABSG9xQ9RxARCVJ30YPUba/hTXQjlGlQRBAU3XQVBEIKBdbSdLpcpqhzUzeduZls6tcUrKgfPv5z+OE/R0gkk2jlMn1dw6qUuM++s35cIBB5Zu0oy1JMJpzScV0Hq2sQSlRZjuYJRkRWDzNsXDRIFBRk6QmjYyE4to3recw1moBiOORbA+T2AKncpGf0YOgHjkfXchFVh6I5RDE/KZaq0G2DbYHVQZgXTSaTGf/kDnHVHP3XGwbKLaZ0Tb+RmUW1jo34piJrH+RUi07PQfhbNJ3HPqPx1MHzqV0uIu8JiLsCWR/9bIF8XWfzqkUg+kIwmmbltELowfz58Le+j0zd303phGZ8C/1uBy2+jZEO4ww9zrMGB49NYmKL/VQTsd7jC3vTYzBpFkIKAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/03609a3f71365e37d9136a06e083352b/c1b63/img_4.png"
        srcset="/static/03609a3f71365e37d9136a06e083352b/5a46d/img_4.png 300w,
/static/03609a3f71365e37d9136a06e083352b/0a47e/img_4.png 600w,
/static/03609a3f71365e37d9136a06e083352b/c1b63/img_4.png 1200w,
/static/03609a3f71365e37d9136a06e083352b/d61c2/img_4.png 1800w,
/static/03609a3f71365e37d9136a06e083352b/e8950/img_4.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">RequiredArgsConstructor</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Transactional</span><span class="mtk4">(</span><span class="mtk7">readOnly</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk7">true</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Service</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">GroupModifyService</span><span class="mtk4"> </span><span class="mtk1">{</span><span class="mtk4">	   </span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">FavoriteRepository</span><span class="mtk4"> favoriteRepository</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Transactional</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk9">void</span><span class="mtk3"> delete</span><span class="mtk1">(</span><span class="mtk11">Long</span><span class="mtk1"> </span><span class="mtk4 mtki">hostId</span><span class="mtk1">, </span><span class="mtk11">Long</span><span class="mtk1"> </span><span class="mtk4 mtki">groupId</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">ifMemberIsHost</span><span class="mtk1">(hostId, groupId, (host, group) </span><span class="mtk9">-&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">group</span><span class="mtk1">.</span><span class="mtk3">validateGroupIsProceeding</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">favoriteRepository</span><span class="mtk1">.</span><span class="mtk3">deleteAllByGroupId</span><span class="mtk1">(groupId);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">groupRepository</span><span class="mtk1">.</span><span class="mtk3">deleteById</span><span class="mtk1">(groupId);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        });</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>즉, Group 패키지가 여전히 Favorite 패키지의 존재를 알고 있는 상황이다. 이를 개선하기 위해 Spring의 Event방식을 도입하였다.</p>
<blockquote>
<p>Spring의 Event방식은 Spring의 Bean과 Bean사이에 데이터를 전달하는 방법 중 하나이다.</p>
</blockquote>
<p>Event방식을 사용하며 <code>GroupModifyService</code> 는 아래의 이미지와 같이 <code>ApplicationEventPublisher</code>에  <code>GroupDeleteEvent</code> 를 던져주는 작업만을 진행하도록 수정하며 <code>FavoriteRepository</code> 의 존재 자체를 모르게 끊어내었다.</p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">RequiredArgsConstructor</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Transactional</span><span class="mtk4">(</span><span class="mtk7">readOnly</span><span class="mtk4"> </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk7">true</span><span class="mtk4">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Service</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">GroupModifyService</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">Transactional</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk9">void</span><span class="mtk3"> delete</span><span class="mtk1">(</span><span class="mtk11">Long</span><span class="mtk1"> </span><span class="mtk4 mtki">hostId</span><span class="mtk1">, </span><span class="mtk11">Long</span><span class="mtk1"> </span><span class="mtk4 mtki">groupId</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">ifMemberIsHost</span><span class="mtk1">(hostId, groupId, (host, group) </span><span class="mtk9">-&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">group</span><span class="mtk1">.</span><span class="mtk3">validateGroupIsProceeding</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">applicationEventPublisher</span><span class="mtk1">.</span><span class="mtk3">publishEvent</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk3">GroupDeleteEvent</span><span class="mtk1">(groupId));</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">groupRepository</span><span class="mtk1">.</span><span class="mtk3">deleteById</span><span class="mtk1">(groupId);</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        });</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<p>Event 방식을 적용하여 모임을 삭제하였을 때 요청부터 데이터 삭제까지 하는 동작 Flow는 아래와 같다. 그림으로 보면 알 수 있듯이 <strong>Group</strong>과 <strong>Favorite</strong>사이에 <strong>Spring</strong>의 <strong>ApplicationEventPublisher</strong>가 존재하여 둘 사이의 직접적인 관계를 끊어낸 것을 확인할 수 있다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 45.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACF0lEQVQoz1WSTU8TQRjHN964+in8BMaDcFATwQMePODBeNLoTaKJfgFDNEYTRcLBGEjE4MEYMYYDBkEsVUGa0NaWFsrLsm13p+2Wdre0tLP7c19ook/y35nZ+c9vnnnyKLmdHUrqHk5J0NbzGGqe0RXBo0iBJ8sFHkZ0viX2cbVdZGGfxbjKSFQEe4+XdUZXS5TtFn64rosSi8VQPWizXqcudBJbGpffZTk/kWTgbYa+qRzjsRJtV2JbB4z+zNM7scHFyTjnJlMMvlfJCDsASsdBcbyPy//RkdBoOtS1AgfZDDKThtw2jn1IrWJSqlk0pe+THBpFsCpQ91QzUboQP13pyGCeKq9xZ2mQ4YVLDH/p59ZsH3PxKarFKo2GfXypZH7LZPrXNp//GHxMCraEheKDunLcEJgUHjByhburQ9xbvcrt7wMs5WfDi+n4jyNr1Oj/YHB2Ik3v6wSn36g8XamEQFwnsPrysMcp+7/dYBTlzvGujyJw+EoZFmsFm3W9Scwby1YzfHJgDM8GRvlvPdsNyj/uU5y/jli8GWr+GvbubLdYONIrg9MOVooPMNdGMGbOoM1coPipF/PrEHo+x4FZx9TS7L3qYfOZQvaFwva4p+cKpeiDMFunQzTxm/VkImwbH2gs3GBj7ATxsZMkX/agTp/CqhY4EgLp9eeRtsNhbp2W2KXVqNCyy/jd0Q1d2ySv7Qdt8xdgAH0F8Kq2pAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/c23fce2b239d79dfb964d5880bdf5723/c1b63/img_5.png"
        srcset="/static/c23fce2b239d79dfb964d5880bdf5723/5a46d/img_5.png 300w,
/static/c23fce2b239d79dfb964d5880bdf5723/0a47e/img_5.png 600w,
/static/c23fce2b239d79dfb964d5880bdf5723/c1b63/img_5.png 1200w,
/static/c23fce2b239d79dfb964d5880bdf5723/d61c2/img_5.png 1800w,
/static/c23fce2b239d79dfb964d5880bdf5723/e8950/img_5.png 2000w"
        sizes="(max-width: 1200px) 100vw, 1200px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>GroupDeleteEvent와 FavoriteDeleteEventListener의 코드는 아래와 같다.</p>
<ul>
<li>
<p><strong>GroupDeleteEvent.class</strong></p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Getter</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">GroupDeleteEvent</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">Long</span><span class="mtk4"> id</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> GroupDeleteEvent</span><span class="mtk1">(</span><span class="mtk11">Long</span><span class="mtk1"> </span><span class="mtk4 mtki">id</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">this</span><span class="mtk1">.</span><span class="mtk4">id</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> id;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
</li>
<li>
<p><strong>FavoriteDeleteEventListener.class</strong></p>
<pre class="grvsc-container one-dark-pro" data-language="java" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">RequiredArgsConstructor</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">@</span><span class="mtk11">Component</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">FavoriteDeleteEventListener</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk9">final</span><span class="mtk4"> </span><span class="mtk11">FavoriteRepository</span><span class="mtk4"> favoriteRepository</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">EventListener</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk9">void</span><span class="mtk3"> deleteGroup</span><span class="mtk1">(</span><span class="mtk11">GroupDeleteEvent</span><span class="mtk1"> </span><span class="mtk4 mtki">event</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">favoriteRepository</span><span class="mtk1">.</span><span class="mtk3">deleteAllByGroupId</span><span class="mtk1">(</span><span class="mtk11">event</span><span class="mtk1">.</span><span class="mtk3">getId</span><span class="mtk1">());</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">@</span><span class="mtk11">EventListener</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk9">void</span><span class="mtk3"> deleteMember</span><span class="mtk1">(</span><span class="mtk11">MemberDeleteEvent</span><span class="mtk1"> </span><span class="mtk4 mtki">event</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">favoriteRepository</span><span class="mtk1">.</span><span class="mtk3">deleteAllByMemberId</span><span class="mtk1">(</span><span class="mtk11">event</span><span class="mtk1">.</span><span class="mtk3">getId</span><span class="mtk1">());</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
</li>
</ul>
<h1 id="끝나지-않은-분리" style="position:relative;"><a href="#%EB%81%9D%EB%82%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EB%B6%84%EB%A6%AC" aria-label="끝나지 않은 분리 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>끝나지 않은 분리</h1>
<p>패키지 분리와 Event처리 방식을 통해 찜하기와 연관된 모든 CUD작업을 분리하게 되었다. CUD에 대해서 찜하기 기능을 삭제하고 싶다면 단순히 favorite 패키지만을 삭제하면 된다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 108.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAACuklEQVQ4y5VVy27TQBT1F7GipW1ix6/WiR+xx6+xncQJSR9qq1ZCLBA7BGJPJRAI/oUtK2CFyt8c7kyUEho7wOLkSp65d+7rnCimfYRsPIMbMgwjhjjNIb51NR1qz/hvKKZpITu5Qnh8hcf1BLP5QgY86Grywv8GVoSDaRjosBK740v4foAkW2bZUXt3Qf81sCJ+dMNEz/GgxxWSvEAUp7AOHWi6udW56REZUGRiWjYsKn96eok4L5FSlnGaydKbsAp2P6iyftAlK0oNogScBuX0Xbj+EAMvuLN915e2Z1jtGa4fGKaNPjkX9RxxkiGjFqQZR5pzuQF5USHn5R893hpQXNLp9R71r5ydIEo5hmEk++oFQzza72C/o7aXfL/BwopyBHwqPWApGGXmD0MEtKvi+2pYjSWLvm1AW1pRvjuMMTm5AEtyFNUYzsDHHmXYWSVwD4qqqtiAtoRpGnCDAHw0pv30wFgE1xvAI1g2DUXtLu+u+SodK0IbdCeDw6bI5k/hpQtE5Tny+hqsOseA1Tgwww0f5cHpd7Rh5+IrtOsvCJ99RvryFsmLHyhf/wR/dUvn3xp9lIfZDZqwQ9jjN9DrtwjO3sE7fY/06hPYxUeE5x+wm9O99M2Gn6J299AETd2HbWrwAw/14hicp+B5iqoqYBg9dA526c6mH03ZRBPUngXDOpJT5pM5fFqZIIyJRTEMIW8tfs1rs2KNdYiBH0rWJMQWRsudF+UdAdS1Ffu9NlvUxLJFhgzldIGQxZKKAiWt0VbqtUFQ0HEDxMWY9i9AxIg5koYJdFr6VnFog33Ulz2bzc+IKZkUidGkBi8rmZ3gtJCylRUPbA3YFX8Dbgh7MaPsGJWdyNJFL4WEiWyFrAmOOwPv7xmqXVIVP0H85Dlyki9ejuRwOEnYeDKVvcxIyopqJCsQwvELVV0v6irtyA4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Untitled"
        title="Untitled"
        src="/static/3f1b93f44edd32828313916d9aaf79e0/4ee7f/img_6.png"
        srcset="/static/3f1b93f44edd32828313916d9aaf79e0/5a46d/img_6.png 300w,
/static/3f1b93f44edd32828313916d9aaf79e0/4ee7f/img_6.png 486w"
        sizes="(max-width: 486px) 100vw, 486px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
    </span></p>
<p>하지만 아직 읽기에 대해서는 완전한 분리를 이루지 못하였다. 모모팀 서비스는 찜한 모임 목록 조회 기능을 제공하고 있다. 해당 기능은 현재 “참여한 목록 조회”, “주최한 목록 조회”와 같은 기능들과 함께 Group패키지 안에 위치하고 있다.</p>
<p>Favorite의 CUD작업을 진행하며 해당 로직을 분리하지 않은 이유는 API상에서 다른 조회 로직들과 같은 prefix를 갖고 있어 분리를 한다면 같은 Prefix URL을 가진 조회 기능에 대한 API들이 여러 패키지에 분산되어 코드를 파악하기 어렵다고 생각했다. 또한 Favorite패키지로 분리를 할 경우 른 조회 로직들과 중복 로직이 발생하기도 하였다.</p>
<p>현재 드는 생각으로는 추후 다른 모듈화된 기능이 추가될 경우에도 조회에 대해서는 API 반환값에 따라 Group이 의존하게 될 것이라 생각되어 CQRS패턴을 적용하여 CUD를 진행하는 비즈니스 로직과 조회를 담당하는 R 로직을 큰 패키지로 분리하여 관리를 하는 것이 좋을까? 하는 생각을 하고 있다. 그럴 경우 CUD에 해당하는 Command에 대해서는 확실히 모듈간의 의존성이 분리되고 Query에 대해서만 필요에 따라 서로 엮여있기에 확실히 이점이 있지 않을까 싶다.</p>
<p>CQRS에 대해서는 아직 학습이 부족하다 판단하여 추가적인 학습을 진행한 후에 프로젝트에 적용할지 결정해보려한다.</p>
<h1 id="마치며" style="position:relative;"><a href="#%EB%A7%88%EC%B9%98%EB%A9%B0" aria-label="마치며 permalink" class="toc-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>마치며</h1>
<p>모모팀 서비스를 키워가며 Group 객체가 점점 커지는 것을 느껴 부가 기능에 대해서는 모듈화를 통해 객체간의 의존 관계를 단방향으로 변경해가는 작업을 진행해봤다. 아직 Read에 대해서는 Group 패키지가 Favorite의 존재를 알고 있다는 점에서 완전한 분리가 되지 않은 상태지만 CUD작업을 진행함에 있어서 불필요한 객체와 조회로직이 줄어들어 성능 개선이 되었다 생각한다. 실제 각각 API별로 실행되는 쿼리를 비교해봐도 애플리케이션으로 읽어오는 데이터의 양과 날라가는 쿼리가 줄어든 것을 확인하였다. 또한 모듈화 분리를 진행하며 객체간의 의존관계에 대한 많은 고민과 학습을 하고 Spring의 Event처리 방식에 대해 학습을 하는 좋은 시간을 가졌던 것 같다.</p>
<p>객체간의 의존 관계 작업은 여기서 마치고 앞으로는 애플리케이션의 쿼리를 분석 및 개선하는 작업을 진행해보려한다.</p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .one-dark-pro {
    background-color: #282c34;
    color: #abb2bf;
  }
  .one-dark-pro .mtki { font-style: italic; }
  .one-dark-pro .mtk1 { color: #ABB2BF; }
  .one-dark-pro .mtk11 { color: #E5C07B; }
  .one-dark-pro .mtk9 { color: #C678DD; }
  .one-dark-pro .mtk4 { color: #E06C75; }
  .one-dark-pro .mtk7 { color: #D19A66; }
  .one-dark-pro .mtk8 { color: #56B6C2; }
  .one-dark-pro .mtk6 { color: #98C379; }
  .one-dark-pro .mtk3 { color: #61AFEF; }
  .one-dark-pro .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></div></div></div><div class="css-1bdwg0l e6qprj20"><div><style data-emotion-css="17t5ffy">.css-17t5ffy{margin-top:1rem;margin-bottom:1rem;}</style><div class="css-17t5ffy"><div class="css-1l4w6pd"><div class="css-164tafw"></div></div></div><style data-emotion-css="i1cgbm">.css-i1cgbm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;margin-top:1rem;padding-left:0.5rem;padding-right:0.5rem;}</style><div class="css-i1cgbm"><style data-emotion-css="16k19ub">.css-16k19ub{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#2D87FD;}</style><button class="css-16k19ub"><style data-emotion-css="u7tj59">.css-u7tj59{fill:currentColor;margin-top:auto;margin-bottom:auto;margin-right:0.25rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 320 512" class="css-u7tj59" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg>Share with <!-- -->Facebook</button><style data-emotion-css="9nr5sz">.css-9nr5sz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#1CA1F2;}</style><button class="css-9nr5sz"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-u7tj59" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>Share with <!-- -->Twitter</button><style data-emotion-css="rk0yc0">.css-rk0yc0{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:0.75rem;padding-right:0.75rem;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:0.5rem;margin-bottom:0.5rem;margin-left:0.5rem;border-radius:0.25rem;--text-opacity:1;color:rgba(255,255,255,var(--text-opacity));background-color:#6E7783;}</style><button class="css-rk0yc0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-u7tj59" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg>Share with <!-- -->Url</button></div></div></div></div></div><div class="css-1bdwg0l e6qprj20"><style data-emotion-css="17t1oy1">.css-17t1oy1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap-reverse;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;margin-left:0.5rem;margin-right:0.5rem;margin-top:1rem;}@media (min-width:768px){.css-17t1oy1{-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}}</style><div class="css-17t1oy1 e1ic15ss0"><style data-emotion-css="1pwr1ry">.css-1pwr1ry{width:100%;margin:0.5rem;}@media (min-width:768px){.css-1pwr1ry{width:50%;margin:1rem;}}</style><div class="css-1pwr1ry e1ic15ss1"><style data-emotion-css="txyanx">.css-txyanx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);text-align:left;width:100%;height:100%;padding:0.5rem;background-color:#eee;border-radius:0.25rem;border-left-width:4px;border-color:#A5CC82;}.css-txyanx:hover{background-color:#ddd;}</style><a rel="prev" class="css-txyanx" href="/Frontend/20221009-최적의-build-loader를-찾아가기/"><style data-emotion-css="19o7xeo">.css-19o7xeo{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;margin-right:1rem;margin-left:0.5rem;height:100%;}</style><div class="css-19o7xeo"><style data-emotion-css="11za1ik">.css-11za1ik{width:2rem;height:2rem;margin-top:auto;margin-bottom:auto;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-11za1ik" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"></path></svg></div><style data-emotion-css="v38or">.css-v38or{display:inline-block;margin-top:0.5rem;margin-bottom:0.5rem;}</style><div class="css-v38or"><style data-emotion-css="1e3im4j">.css-1e3im4j{color:#00467F;}</style><p class="css-1e3im4j">이전 포스트</p><p>최적의 build-loader를 찾아가기</p></div></a></div><div class="css-1pwr1ry e1ic15ss1"><style data-emotion-css="89mi30">.css-89mi30{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);text-align:right;width:100%;height:100%;padding:0.5rem;background-color:#eee;border-radius:0.25rem;border-right-width:4px;border-color:#A5CC82;}.css-89mi30:hover{background-color:#ddd;}</style><a rel="next" class="css-89mi30" href="/Backend/20221014-모모팀-서비스성능-개선기2/"><div class="css-v38or"><p class="css-1e3im4j">다음 포스트</p><p>모모팀 서비스 성능 개선기2 (조회 쿼리 개선)</p></div><div class="css-19o7xeo"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-11za1ik" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4z"></path></svg></div></a></div></div><style data-emotion-css="14yohw7">.css-14yohw7{width:100%;max-width:768px;padding-left:1rem;padding-right:1rem;margin-left:auto;margin-right:auto;padding-top:2rem;margin-top:0.5rem;margin-bottom:1rem;}@media (min-width:768px){.css-14yohw7{padding-left:0;padding-right:0;padding-top:3rem;}}</style><div class="css-14yohw7 e1q36c7t0"><style data-emotion-css="180ky7f">.css-180ky7f{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:0.5rem;padding-right:0.5rem;}@media (min-width:768px){.css-180ky7f{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}</style><div class="css-180ky7f e1q36c7t1"><style data-emotion-css="p5b1u1">.css-p5b1u1{border-radius:9999px;border-width:1px;--border-opacity:1;border-color:rgba(214,188,250,var(--border-opacity));margin-right:2rem;margin-bottom:0.5rem;}@media (min-width:768px){.css-p5b1u1{margin-bottom:1rem;}}</style><div class="css-p5b1u1 gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:128px;height:128px"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADDklEQVQ4y31UXUhTYRg+F0VFSRmBms413dSyMvuhaGU5LCEQzUCcWxJpGeE/hNnwN+1nCKUyp3gRImFIXmRd5KYXYZLQSvBa8EaSpqRo29ymezrvmd/Z5pYvfOc7H+c9z/e8z/vDra+vg5bbTcu9+e7G2toatrONjQ04nU7Rn/3LhQJzuVzCT4uLi+joeA2NJh/XrquQkXEVmZkZaGlpFsDInM61AFCOHWgnINrJenq6ERF5CKfPpKCiohRNzQ2oq9fhfkkxko4qkJAYj8nJb5ugPqacPzMGVlx8F+HhYRgcfPffkGuf1GD3nh2YmPgaAMoxqiyEoqI7kEpjYLX+Fh1JT7YcDocoSeuzp5DFxQphezweX8gsAe3trxB+MAzz87+Es91uD9DWXxoGejIlGS2tzcI74XDsw8zMDPYf2IvRUbNwdjjsW4C8i4EyEn19b5B8PInPuscbMvtQ8uAesrJubII54Csnrxx0sb/4jMjc3BxiYiIxPT0tnDl6LC39gSQ2CibTZ1E3BkLa+BsDZszJLirPw2Do8AEODLzFseTEAFbMrFYrjEYDTOYRGLo6g4DJtLfVqKqu8AFWVZVDXZAnsiNWlCAKZ3l5CTWPH2F4+AO6e4xYXV3B2NiomASywkINSsse+gAL+E4o54uXZZYs91YOzp5LDao/5aULyM7JCvDVaPNR5g9IB61WLSaE7Upem8QkOerqdKiurkSsNBqX05Q862UhChYytWVbm94HODT0HvFyqdDw/iXhcjnxUv8cN3Ozka/OE9qRfFi45EugMpkEZrPJC0gOJLAiIQ6NjfWijqwOtxr5soIn0+tfQK6QCZcTFsdoU6Pv3bcLTU0NAQA2uw02G62/QSNNp6vl+3knX24jIpGA1rP8sEAiiRLq6uOnYSwsWIMYTk39FCKRK44IpWaxfA8eDv6gKysrqOTLiJqeFmU1PT0N6ao0nEo9gcPREVCprqC3t0eUhOkpji8GysJnN46Pf+GLugvG7i6+EzrR39+H2dnZbac2F2qS0I0sm6GMjbRQk+gfC+9ZnRl0IjIAAAAASUVORK5CYII=" alt="profileImg" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/1134414851454382d55f3e82eb460d40/2c344/profile.png 1x,
/static/1134414851454382d55f3e82eb460d40/f20a7/profile.png 1.5x" /><img loading="lazy" width="128" height="128" srcset="/static/1134414851454382d55f3e82eb460d40/2c344/profile.png 1x,
/static/1134414851454382d55f3e82eb460d40/f20a7/profile.png 1.5x" src="/static/1134414851454382d55f3e82eb460d40/2c344/profile.png" alt="profileImg" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div><span>Written by </span><style data-emotion-css="16q43sj">.css-16q43sj{display:inline-block;font-size:1.25rem;font-weight:700;border-radius:9999px;margin-bottom:0.5rem;padding-left:0.75rem;padding-right:0.75rem;--bg-opacity:1;background-color:rgba(237,242,247,var(--bg-opacity));color:#00467F;}</style><p class="css-16q43sj">@<!-- -->momo</p><style data-emotion-css="vg2p6i">.css-vg2p6i{font-size:0.875rem;font-weight:400;margin-bottom:0.5rem;}</style><div class="css-vg2p6i">모모팀의 기술 블로그입니다</div></div></div><style data-emotion-css="1air669">.css-1air669{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:0.5rem;margin-right:0.5rem;}</style><div class="css-1air669"><div class="css-164tafw"></div></div></div><style data-emotion-css="18jj1tc">.css-18jj1tc{margin-top:1.25rem;margin-left:0.5rem;margin-right:0.5rem;}</style><div class="css-18jj1tc"><div class="utterances"></div></div></div></div><style data-emotion-css="xgi74q">.css-xgi74q{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:fixed;bottom:0;right:0;padding-right:1.5rem;padding-bottom:1.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><div class="css-xgi74q e1m8uc5d0"><style data-emotion-css="1a68u">.css-1a68u{box-shadow:0 2px 2px 0 rgba(0,0,0,0.15);-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#636363;font-size:0.75rem;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.5rem;padding-bottom:0.5rem;border-radius:9999px;--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;-webkit-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));-ms-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-content:flex-end;-ms-flex-line-pack:end;align-content:flex-end;z-index:100;}.css-1a68u:hover{background-color:#404040;color:#FFFFFF;}.css-1a68u:hover{--transform-scale-x:1.05;--transform-scale-y:1.05;}</style><button title="change to darkmode" class="css-1a68u"><style data-emotion-css="1alqh2e">.css-1alqh2e{fill:currentColor;--text-opacity:1;color:rgba(246,224,94,var(--text-opacity));width:1rem;height:1rem;margin-top:auto;margin-bottom:auto;margin-left:0;margin-right:0;}@media (min-width:768px){.css-1alqh2e{display:inline-block;margin-left:0.25rem;margin-right:0.25rem;}}</style><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="css-1alqh2e" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg><style data-emotion-css="flxr9x">.css-flxr9x{display:none;margin-right:0;}@media (min-width:768px){.css-flxr9x{display:inline-block;margin-right:0.25rem;}}</style><span class="css-flxr9x">다크 모드로 보기</span></button><style data-emotion-css="15afv4q">.css-15afv4q{box-shadow:0 2px 2px 0 rgba(0,0,0,0.15);-webkit-transition:all 300ms cubic-bezier(0.4,0,0.2,1);transition:all 300ms cubic-bezier(0.4,0,0.2,1);background-color:#FFFFFF;color:#636363;font-size:0.75rem;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.5rem;padding-bottom:0.5rem;border-radius:9999px;--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;-webkit-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));-ms-transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y));cursor:pointer;margin-left:0.5rem;margin-top:auto;margin-bottom:auto;z-index:100;}.css-15afv4q:hover{background-color:#404040;color:#FFFFFF;}.css-15afv4q:hover{--transform-scale-x:1.05;--transform-scale-y:1.05;}</style><button title="top page" class="css-15afv4q"><style data-emotion-css="13htjwu">.css-13htjwu{width:1rem;height:1rem;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" class="css-13htjwu" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M868 545.5L536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"></path></svg></button></div><style data-emotion-css="1k8xcyw">.css-1k8xcyw{text-align:center;padding-top:2rem;padding-bottom:2rem;bottom:0;}</style><footer class="css-1k8xcyw"><style data-emotion-css="1xju3od">.css-1xju3od{font-size:0.75rem;font-weight:700;}</style><a href="https://github.com/Seongwon97" class="css-1xju3od">©Momo</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-Y3VQCJ7ZEX', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/Backend/20221009-모모팀-서비스성능-개선기1/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2f72579fb641bf14a0fa.js"],"app":["/app-d1a6932a45bfd024ad29.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0a6852889ec28cc0cb78.js"],"component---src-pages-index-js":["/component---src-pages-index-js-df04c8a92b3d2d8d3fc9.js"],"component---src-pages-search-js":["/component---src-pages-search-js-9304c0011dcd53f925c6.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-4910a6c560d7a355cf37.js"],"component---src-templates-category-js":["/component---src-templates-category-js-00675ddb0659eb6056e0.js"]};/*]]>*/</script><script src="/polyfill-2f72579fb641bf14a0fa.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-4910a6c560d7a355cf37.js" async=""></script><script src="/7a297f752dcfe258c0b0106d89edb3a916af916e-ba3bed115b500439fc94.js" async=""></script><script src="/commons-b839ac3ef2817b5d267d.js" async=""></script><script src="/1bfc9850-409296e666dade882413.js" async=""></script><script src="/5e2a4920-da90abce4a08c86a094c.js" async=""></script><script src="/d7eeaac4-dcbe97e7a5aa158c9d08.js" async=""></script><script src="/app-d1a6932a45bfd024ad29.js" async=""></script><script src="/dc6a8720040df98778fe970bf6c000a41750d3ae-17eb047fb821ccbad0b0.js" async=""></script><script src="/styles-84a9bc99193fe5828ffe.js" async=""></script><script src="/framework-eb684e3e828ad13b3940.js" async=""></script><script src="/webpack-runtime-91d2ca5880d6e7d8e505.js" async=""></script></body></html>