{"componentChunkName":"component---src-templates-blog-post-js","path":"/Backend/20220930-FetchJoin과-limit을-같이-사용하며-발생한-문제/","result":{"data":{"site":{"siteMetadata":{"author":"momo","comment":{"utterances":"2022-momo/2022-momo.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"excerpt":"해당 포스트는 모모팀 크루 렉스가 작성하였습니다. 학습 계기 모모팀 프로젝트를 진행하던중 애플리케이션 로그가 [WARN] firstResult/maxResults specified with collection fetch; applying in memory! 라는 한 가지 경고 로그가 도배된 것을 확인하였다. WARN레벨의 로그라 현재는 애플리케이션의 기능…","html":"<blockquote>\n<p>해당 포스트는 모모팀 크루 <a href=\"https://github.com/Seongwon97\">렉스</a>가 작성하였습니다.</p>\n</blockquote>\n<h1 id=\"학습-계기\" style=\"position:relative;\"><a href=\"#%ED%95%99%EC%8A%B5-%EA%B3%84%EA%B8%B0\" aria-label=\"학습 계기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>학습 계기</h1>\n<p>모모팀 프로젝트를 진행하던중 애플리케이션 로그가 <code>[WARN] firstResult/maxResults specified with collection fetch; applying in memory!</code> 라는 한 가지 경고 로그가 도배된 것을 확인하였다. <code>WARN</code>레벨의 로그라 현재는 애플리케이션의 기능을 실행하는데에는 문제가 없으나 언제든지 성능상의 문제 등의 여러 문제로 돌아올 수 있기에 해당 경고를 찾아보고 해결하게 되었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVQoz52RSQ7CMAxFuQ8CsWGoEDtK5ynN0NIR7n8HEzut1Ba6YWFF+naef342ueggyxvIeAtuIEAULzqTrCLdjxTgDBMtVcIqCJMS4qF/smzY7q+wO9yoNrnsTJM3E6DUF2vSgqgAnBmhqEcjkK8AU72JLR2yagZkAzCdAn86FBOgr4Fq8mQCqgHYfjtcB9YmQ3+R4T9ALntyh2BPZyfLN534NAQEcQFc9SZHaZZH6ZMiwXtn6zEHohP8NRyyHUZbbTcnEGqOb9zGQ4Va90JJ2WL/eLnPgB8biQsrDhEsiwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/ce3cb7a15f9b6653ba78087df4ce553b/c1b63/img.png\"\n        srcset=\"/static/ce3cb7a15f9b6653ba78087df4ce553b/5a46d/img.png 300w,\n/static/ce3cb7a15f9b6653ba78087df4ce553b/0a47e/img.png 600w,\n/static/ce3cb7a15f9b6653ba78087df4ce553b/c1b63/img.png 1200w,\n/static/ce3cb7a15f9b6653ba78087df4ce553b/d61c2/img.png 1800w,\n/static/ce3cb7a15f9b6653ba78087df4ce553b/28e7f/img.png 1848w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h1 id=\"문제-원인-분석\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C-%EC%9B%90%EC%9D%B8-%EB%B6%84%EC%84%9D\" aria-label=\"문제 원인 분석 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제 원인 분석</h1>\n<p>결론부터 말하자면 해당 문제는 JPA에서 OneToMany 연관관계에 fetchJoin과 limit절을 같이 사용하면 DB에서 페이지에 필요한 데이터만 가져오는 것이 아닌 모든 데이터를 가져온 후 JVM상에서 필요한 데이터를 추출하여 발생하는 경고이다.</p>\n<p>아래의 코드는 모모팀 프로젝트 코드중 QueryDsl을 통해 찜한 모임 목록을 조회하는 쿼리이다. 해당 쿼리를 살펴보면 <code>fetchJoin()</code>과 <code>limit()</code>을 함께 사용한 것을 확인할 수 있다.</p>\n<blockquote>\n<p>코드상의 Group, Participant, Favorite 간의 연관 관계는 아래와 같다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1058px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAm0lEQVQI1zWOywqAIBBF/f+PCoJAoWjnQiRpYy8tIxflphszkDDIzJ05HLHvO+Z5RowRIQRs24b/XdcF7z3P/72cM2fv+2JdVy66pf88TwhjDKqqglIKdV2jbVuGHMeBcRwZIqVE3/cMdc4hpYRhGGCtRdd1aJoGWmu+ERSS1W83TRPu+2aL53kYSCDKlmVBKYUzMqWe7KgoJ8MPfaPeeS+eV7oAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/323a1bbf6b4691b1d5b0b095f6dfa193/bb2fd/img_6.png\"\n        srcset=\"/static/323a1bbf6b4691b1d5b0b095f6dfa193/5a46d/img_6.png 300w,\n/static/323a1bbf6b4691b1d5b0b095f6dfa193/0a47e/img_6.png 600w,\n/static/323a1bbf6b4691b1d5b0b095f6dfa193/bb2fd/img_6.png 1058w\"\n        sizes=\"(max-width: 1058px) 100vw, 1058px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</blockquote>\n<blockquote>\n<p>코드 중 <code>conditionFilter.filterByCondition(condition)</code>는 목록 조회시 여러 조건을 통한 데이터 필터링을 위해 걸어둔 조건이다.</p>\n</blockquote>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Page</span><span class=\"mtk8\">&lt;</span><span class=\"mtk4\">Group</span><span class=\"mtk8\">&gt;</span><span class=\"mtk4\"> </span><span class=\"mtk3\">findLikedGroups</span><span class=\"mtk4\">(</span><span class=\"mtk11\">SearchCondition</span><span class=\"mtk4\"> condition</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Member</span><span class=\"mtk4\"> member</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Pageable</span><span class=\"mtk4\"> pageable) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk11\">List</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">Group</span><span class=\"mtk1\">&gt;</span><span class=\"mtk4\"> groups </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> queryFactory</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">selectFrom</span><span class=\"mtk1\">(group)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">leftJoin</span><span class=\"mtk1\">(</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk11\">participants</span><span class=\"mtk1\">.</span><span class=\"mtk4\">participants</span><span class=\"mtk1\">, participant)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">innerJoin</span><span class=\"mtk1\">(</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk11\">favorites</span><span class=\"mtk1\">.</span><span class=\"mtk4\">favorites</span><span class=\"mtk1\">, favorite)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">fetchJoin</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">                            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">where</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">favorite</span><span class=\"mtk1\">.</span><span class=\"mtk11\">member</span><span class=\"mtk1\">.</span><span class=\"mtk3\">eq</span><span class=\"mtk1\">(member),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">conditionFilter</span><span class=\"mtk1\">.</span><span class=\"mtk3\">filterByCondition</span><span class=\"mtk1\">(condition)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">orderBy</span><span class=\"mtk1\">(</span><span class=\"mtk3\">orderByDeadlineAsc</span><span class=\"mtk1\">(</span><span class=\"mtk11\">condition</span><span class=\"mtk1\">.</span><span class=\"mtk3\">orderByDeadline</span><span class=\"mtk1\">()).</span><span class=\"mtk3\">toArray</span><span class=\"mtk1\">(</span><span class=\"mtk11\">OrderSpecifier</span><span class=\"mtk1\">[]</span><span class=\"mtk9\">::new</span><span class=\"mtk1\">))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">offset</span><span class=\"mtk1\">(</span><span class=\"mtk11\">pageable</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getOffset</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">limit</span><span class=\"mtk1\">(</span><span class=\"mtk11\">pageable</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getPageSize</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">fetch</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">return</span><span class=\"mtk4\"> </span><span class=\"mtk11\">PageableExecutionUtils</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getPage</span><span class=\"mtk1\">(groups, pageable, countQuery</span><span class=\"mtk9\">::</span><span class=\"mtk1\">fetchOne);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">}</span></span></span></code></pre>\n<p>해당 코드를 실행하여 콘솔을 살펴보면 쿼리가 실행될 때, 앞서 살펴봤던 경고 로그가 남은 것을 확인할 수 있다. 또한 SQL문을 살펴보면 코드상으로 지정하였던 <code>limit</code>절이 존재하지 않는다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1093px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACGElEQVQ4y5VU247TMBTMO48gbuKyC9vd2k7S3Ju0SdokzYrlASQE4o3//4vhjBuXgkCkD6NxLHsyZ86RvW/mA8brA3YvGtxfDxjedHhY3GN43aF+usXmcYX9yxaHt73l9nljz/Sv9hbj1YDmWY3qyQbVoxjekFVoowLxuyXSG43kDPmtj0zAfYuFETaWT/uyjt8rrK7kvrCnAx/rqkRRrhGnCdI8s9C+wZ1aQhkN5U8wf2Da076255XAU8sltpsNDsOAvuvQNg064V3bosgLhGEIrTXMTHhKKVSV5LTfY7fboRWh7XaLQX7QiHgURUdBYyz/D57WCnmeYyMuy7K0nKapZSLLsllCJ0E65EU6rOvaMr/pjm65Xq1W4DltZgr+KrHGOI7o+97m2LaNXVM4juP5Dlkq83PO6JS5snQKBUEwv2RmWBSFdUlhrl2W6/Xaii1lEmY35dwh3ZEpzjKZJ9en0TEXCPIyRQg3Pq7TbMpsQf6dY8OsHDh7vu/bztruXjI2zMhlxvzYiPMDFwvSCR0yP8KVyTWHOkmSU4az5pAOK3kcGD4dsrN0nKZHIZYfyE/NlCHZN0eYfwnyEkulEF1RlBwnMTLZVzIyCzlM3ApuJtz9TZAdpDPXEDfMnDuCYqU8S4fQx8cwwCj8aRXgs6CWp8+9RL85dC8Ms6Qz5moFJ0edXPwRh/giIg8i+j0K8TUK0EyC5/gJsI9QTzoc66EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/ed20f754b0301120bbf98d8adbefbe30/d3f96/img_1.png\"\n        srcset=\"/static/ed20f754b0301120bbf98d8adbefbe30/5a46d/img_1.png 300w,\n/static/ed20f754b0301120bbf98d8adbefbe30/0a47e/img_1.png 600w,\n/static/ed20f754b0301120bbf98d8adbefbe30/d3f96/img_1.png 1093w\"\n        sizes=\"(max-width: 1093px) 100vw, 1093px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h1 id=\"어째서-이러한-일이-발생하였을까\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EC%A7%B8%EC%84%9C-%EC%9D%B4%EB%9F%AC%ED%95%9C-%EC%9D%BC%EC%9D%B4-%EB%B0%9C%EC%83%9D%ED%95%98%EC%98%80%EC%9D%84%EA%B9%8C\" aria-label=\"어째서 이러한 일이 발생하였을까 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어째서 이러한 일이 발생하였을까?</h1>\n<p>쿼리를 실행하며 디버깅을 찍어보면 <code>QueryTranslatorImpl.Java</code> 의 <code>public List list(SharedSessionContractImplementor session, QueryParameters queryParameters)</code> 에서 limit과 fetch를 모두 가졌을 때 분기처리를 하여서 따로 처리를 하는 코드를 확인할 수 있다. limit과 fetchJoin을 모두 갖고 있는 부분에서는 아래의 코드를 보면 알 수 있듯이 <code>RowSelection</code> 객체인 selection을 복사해서 <code>queryParametersToUse</code> 로 사용한다. 하지만 이때 selection 객체는 우리가 사용하고자 하는 limit 정보를 전부 null로 가지고 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACM0lEQVQ4y5WTyZbaMBBF9S/dgK3Jlmdj8IBtbBpooLPKycki//8RLyUzdRZZsLh+T0OVSq4jFvgSeWKQZRmyvEAQhPB8H9rzSA08z4dPqrWGEAJSSijySqmrV1d/VQ0mhESaxIiiCMYE8I2ZFrT2oChAazUlnwK0fqiNuyLAOX/AlBQoQom6LFE2HcqqQZ4vEScpAkpuLFS1rdJiq7d6r9AmFJRoUoJxOkWZENmqQpQtoalKQZsXtGlBGxzXheM4V73hfqvowa1SlggXX3mMc57ivMzwmcYYfY1eC4yKI6Mb+HRAIBUMESirEh4FW3xKNHk6yCqzn4oas01D9MUS3TJHk4SoYoM6MkiMT40yCAlDDTK2WbYJlEjbf0yHWLVjNV2ZJhyasAjjgfseXE+BG02eoKZwJSGtUoB7v95/YNKdI9OcGhNgFRoUgYdVFCCn5DFdOeALhIR0ZuDOfEK4Vu/j57yFeVGJfT3gMF6w337iOJxw3F1wGs849kcctieMRUNdryDTFjrdTKibWmTSQMRXmIxL9PkK+3yNIS3wYTVZwkTFg4DQtE9SUnVDxk8vyAsqzMIS5x0XOccPtcCXuKmcoSc/8ndE8zfw+QyK9Mn708/e/lljddWj3QxomwHdZiQ/omm25Af0pGXZoXgB1u6O6HZ7lP1IDKhJq26LddsT28nXL8B+7T/we7fDoW2xqyp6ghVWZY31N1YvwP4MJX4eDujaDgO952FdoqD3PCUifZW/WAjmlAwLJ5AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/614fb2e676e91c2366174bb6a4445107/c1b63/img_2.png\"\n        srcset=\"/static/614fb2e676e91c2366174bb6a4445107/5a46d/img_2.png 300w,\n/static/614fb2e676e91c2366174bb6a4445107/0a47e/img_2.png 600w,\n/static/614fb2e676e91c2366174bb6a4445107/c1b63/img_2.png 1200w,\n/static/614fb2e676e91c2366174bb6a4445107/bc3ae/img_2.png 1268w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>이후 <code>queryParametersToUse</code> 는 <code>org.hibernate.loader</code> 패키지에 위치한 <code>Loader</code> 클래스의 <code>executeQueryStatement</code> 메서드를 실행하게 되는데 앞서 <code>queryParametersToUse</code> 에 limit 정보가 모두 Null 값이 저장되게 되어 실제 쿼리상에서 limit절이 적용되지 않게 되었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 790px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNElEQVQoz5XMy3KCQBQEUL5HDcEHyDDMDG8QRq1KFkklhQE3efz/vtNiZZeFLk51M/dyndlsBs9dIAw22G5D2iIIfPi+D9d18UhLz8Nyteb3Iy77/5nPieksigEP1QBRvmPc9xiPH+hb9uOA8dDjZHsMVHRnrOwXvHqEW41TevV5smrOuNyZk7PwNliHCmFkIAIBGWkYkzMVYqnJIBIx5xqBTBBwz2cPVcqu4Qv+q7JptvQFHJXWMEWLpLJQTF12MNUeMtshSptrUpy3iJkya5iU76aU6bUrkrzlCBbBQZTV07L863kDTYr9dg2cn67At20xtDXemnJy2lV4rXJkVYWsKJDmVNyAe86n1Ri6PZ47i5IPiTLItcFTLBDr5G7OYBO88KAlnRWI+KjoEEsokyImdYdfJMYYyWlHa3cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/0757b163a3fbdbae69628a15b4b34ad0/2e237/img_3.png\"\n        srcset=\"/static/0757b163a3fbdbae69628a15b4b34ad0/5a46d/img_3.png 300w,\n/static/0757b163a3fbdbae69628a15b4b34ad0/0a47e/img_3.png 600w,\n/static/0757b163a3fbdbae69628a15b4b34ad0/2e237/img_3.png 790w\"\n        sizes=\"(max-width: 790px) 100vw, 790px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>이러한 동작을 하게 되며 하이버네이트는 DB에서 조건에 매칭되는 모든 데이터를 JVM 메모리상에 로드하고, 그 이후에 로직으로 필요한 데이터를 반환하게 된다.</p>\n<h1 id=\"해결-방법은-무엇이-있을까\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%B4-%EC%9E%88%EC%9D%84%EA%B9%8C\" aria-label=\"해결 방법은 무엇이 있을까 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결 방법은 무엇이 있을까?</h1>\n<h2 id=\"해결방법-1\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95-1\" aria-label=\"해결방법 1 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결방법 1</h2>\n<blockquote>\n<p><strong>OneToMany의 Join 방향을 ManyToOne의 방향으로 스캔을 하며 DB 스캔시 필터링된 데이터만 가져오도록 하는 방법</strong></p>\n</blockquote>\n<p>앞서 살펴봤던 오류는 OneToMany관계의 조회에서만 발생한다. 테스트를 위해 Group테이블을 시작으로 Favorite테이블을 Join하던 쿼리를 Favorite 테이블을 시작으로 Group을 Join하도록 ManyToOne방향으로 쿼리를 실행해봤다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Page</span><span class=\"mtk8\">&lt;</span><span class=\"mtk4\">Favorite</span><span class=\"mtk8\">&gt;</span><span class=\"mtk4\"> </span><span class=\"mtk3\">findGroups2</span><span class=\"mtk4\">(</span><span class=\"mtk11\">SearchCondition</span><span class=\"mtk4\"> condition</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Member</span><span class=\"mtk4\"> member</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Pageable</span><span class=\"mtk4\"> pageable) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk11\">List</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">Favorite</span><span class=\"mtk1\">&gt;</span><span class=\"mtk4\"> groups </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> queryFactory</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">selectFrom</span><span class=\"mtk1\">(favorite)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">innerJoin</span><span class=\"mtk1\">(</span><span class=\"mtk11\">favorite</span><span class=\"mtk1\">.</span><span class=\"mtk4\">group</span><span class=\"mtk1\">, group)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">fetchJoin</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">where</span><span class=\"mtk1\">(</span><span class=\"mtk11\">favorite</span><span class=\"mtk1\">.</span><span class=\"mtk11\">member</span><span class=\"mtk1\">.</span><span class=\"mtk3\">eq</span><span class=\"mtk1\">(member))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">offset</span><span class=\"mtk1\">(</span><span class=\"mtk11\">pageable</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getOffset</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">limit</span><span class=\"mtk1\">(</span><span class=\"mtk11\">pageable</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getPageSize</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">fetch</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">return</span><span class=\"mtk4\"> </span><span class=\"mtk11\">PageableExecutionUtils</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getPage</span><span class=\"mtk1\">(groups, pageable, countQuery</span><span class=\"mtk9\">::</span><span class=\"mtk1\">fetchOne);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">}</span></span></span></code></pre>\n<p>그 결과 앞서 살펴봤던 경고 메시지가 발생하지 않는 것을 확인할 수 있었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVQoz6WSyRKEIAxE/SNWQdlc0PL/v6jHxNKayxxkDm1DUj6aaJemESF7mF7CeoV+UFBaQhkJ4yS0vZz6rHNNfa77r7q/ap0xFiUXxJgQQ4R3HkoplhAS8tTtz1r+qJ/qhBCYpgnHcWDbNtRaUbeKYRhAPX75hTp65JyxriuWZWGnAyjhW9gDnOeZ0+37zkBy51x7wlLKA70T0t5a+39CmiEdQAlbrn1+ZcMzDCFgHEd2StZyXQZqrRmYUmIg7e/fpglICSkVzY1E4Bgjg1uAH5oLQJn5NWw8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/7f64788aacd933754583b0bbc8972fb1/c1b63/img_4.png\"\n        srcset=\"/static/7f64788aacd933754583b0bbc8972fb1/5a46d/img_4.png 300w,\n/static/7f64788aacd933754583b0bbc8972fb1/0a47e/img_4.png 600w,\n/static/7f64788aacd933754583b0bbc8972fb1/c1b63/img_4.png 1200w,\n/static/7f64788aacd933754583b0bbc8972fb1/d61c2/img_4.png 1800w,\n/static/7f64788aacd933754583b0bbc8972fb1/e8950/img_4.png 2000w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h3 id=\"프로젝트-코드에-적용한-결과\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%81%EC%9A%A9%ED%95%9C-%EA%B2%B0%EA%B3%BC\" aria-label=\"프로젝트 코드에 적용한 결과 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로젝트 코드에 적용한 결과</h3>\n<p>해당 해결 방법을 프로젝트의 코드에도 적용을 해보았다. 하지만 해당 메서드의 쿼리 특성상 필터링 기능을 사용하며 Group, Participant, Favorite 테이블을 Join하며 필터링 및 결과 조회를 진행하고 있다. Favorite과 Group의 연관관계를 역으로 진행하여 Favorite테이블을 통해 조회하며 ManyToOne의 관계로 Join을 한다고 하여도, Participant 테이블을 Join하는 과정에서 OneToMany가 발생하여 문제 해결을 할 수가 없었다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Page</span><span class=\"mtk8\">&lt;</span><span class=\"mtk4\">Group</span><span class=\"mtk8\">&gt;</span><span class=\"mtk4\"> </span><span class=\"mtk3\">findLikedGroups</span><span class=\"mtk4\">(</span><span class=\"mtk11\">SearchCondition</span><span class=\"mtk4\"> condition</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Member</span><span class=\"mtk4\"> member</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Pageable</span><span class=\"mtk4\"> pageable) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk11\">List</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">Group</span><span class=\"mtk1\">&gt;</span><span class=\"mtk4\"> groups </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> queryFactory</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">select</span><span class=\"mtk1\">(</span><span class=\"mtk11\">favorite</span><span class=\"mtk1\">.</span><span class=\"mtk4\">group</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">from</span><span class=\"mtk1\">(favorite)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">innerJoin</span><span class=\"mtk1\">(</span><span class=\"mtk11\">favorite</span><span class=\"mtk1\">.</span><span class=\"mtk4\">group</span><span class=\"mtk1\">, group)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">leftJoin</span><span class=\"mtk1\">(</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk11\">participants</span><span class=\"mtk1\">.</span><span class=\"mtk4\">participants</span><span class=\"mtk1\">, participant)</span><span class=\"mtk4\"> </span><span class=\"mtk5 mtki\">// 해당 과정에서 OneToMany가 발생</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">fetchJoin</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">where</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">favorite</span><span class=\"mtk1\">.</span><span class=\"mtk11\">member</span><span class=\"mtk1\">.</span><span class=\"mtk3\">eq</span><span class=\"mtk1\">(member),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">conditionFilter</span><span class=\"mtk1\">.</span><span class=\"mtk3\">filterByCondition</span><span class=\"mtk1\">(condition)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">groupBy</span><span class=\"mtk1\">(</span><span class=\"mtk11\">favorite</span><span class=\"mtk1\">.</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk4\">id</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">orderBy</span><span class=\"mtk1\">(</span><span class=\"mtk3\">orderByDeadlineAsc</span><span class=\"mtk1\">(</span><span class=\"mtk11\">condition</span><span class=\"mtk1\">.</span><span class=\"mtk3\">orderByDeadline</span><span class=\"mtk1\">()).</span><span class=\"mtk3\">toArray</span><span class=\"mtk1\">(</span><span class=\"mtk11\">OrderSpecifier</span><span class=\"mtk1\">[]</span><span class=\"mtk9\">::new</span><span class=\"mtk1\">))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">offset</span><span class=\"mtk1\">(</span><span class=\"mtk11\">pageable</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getOffset</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">limit</span><span class=\"mtk1\">(</span><span class=\"mtk11\">pageable</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getPageSize</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">fetch</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">return</span><span class=\"mtk4\"> </span><span class=\"mtk11\">PageableExecutionUtils</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getPage</span><span class=\"mtk1\">(groups, pageable, countQuery</span><span class=\"mtk9\">::</span><span class=\"mtk1\">fetchOne);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">}</span></span></span></code></pre>\n<h2 id=\"해결방법-2\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95-2\" aria-label=\"해결방법 2 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결방법 2</h2>\n<blockquote>\n<p><strong>fetchJoin없이 엔티티의 모든 데이터가 아닌 id값만 가져오는 쿼리를 날린 후, 해당 ID를 IN절에 넣어 필요한 데이터를 가져오도록 하는 방법</strong></p>\n</blockquote>\n<p>두번째 방법은 fetchJoin을 하지 않은 채로 필요한 데이터의 ID값만 가져온 후에 가져온 ID값들을 In절에 넣으며 필요한 데이터를 가져오는 방법이 있다. 즉, 쿼리를 ID를 조회하는 쿼리와 데이터를 조회하는 쿼리로 두 번 나눠서 보내는 방법이다.</p>\n<h3 id=\"프로젝트-코드에-적용한-결과-1\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%81%EC%9A%A9%ED%95%9C-%EA%B2%B0%EA%B3%BC-1\" aria-label=\"프로젝트 코드에 적용한 결과 1 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로젝트 코드에 적용한 결과</h3>\n<p>해당 방법은 1번 날라가던 쿼리가 2번으로 변경된다는 단점이 있긴 하나 JVM의 부담을 줄여줄 수 있다. 실제로 문제였던 경고 메시지 또한 발생하지 않아 해당 쿼리로 적용하였다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"java\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Override</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">public</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Page</span><span class=\"mtk8\">&lt;</span><span class=\"mtk4\">Group</span><span class=\"mtk8\">&gt;</span><span class=\"mtk4\"> </span><span class=\"mtk3\">findLikedGroups</span><span class=\"mtk4\">(</span><span class=\"mtk11\">SearchCondition</span><span class=\"mtk4\"> condition</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Member</span><span class=\"mtk4\"> member</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Pageable</span><span class=\"mtk4\"> pageable) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk11\">List</span><span class=\"mtk1\">&lt;</span><span class=\"mtk11\">Group</span><span class=\"mtk1\">&gt;</span><span class=\"mtk4\"> groups </span><span class=\"mtk8\">=</span><span class=\"mtk4\"> queryFactory</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">selectFrom</span><span class=\"mtk1\">(group)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">leftJoin</span><span class=\"mtk1\">(</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk11\">participants</span><span class=\"mtk1\">.</span><span class=\"mtk4\">participants</span><span class=\"mtk1\">, participant)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">innerJoin</span><span class=\"mtk1\">(</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk11\">favorites</span><span class=\"mtk1\">.</span><span class=\"mtk4\">favorites</span><span class=\"mtk1\">, favorite)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">fetchJoin</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">where</span><span class=\"mtk1\">(</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk11\">id</span><span class=\"mtk1\">.</span><span class=\"mtk3\">in</span><span class=\"mtk1\">(</span><span class=\"mtk3\">findLikedGroupIds</span><span class=\"mtk1\">(condition, member, pageable)))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">orderBy</span><span class=\"mtk1\">(</span><span class=\"mtk3\">orderByDeadlineAsc</span><span class=\"mtk1\">(</span><span class=\"mtk11\">condition</span><span class=\"mtk1\">.</span><span class=\"mtk3\">orderByDeadline</span><span class=\"mtk1\">()).</span><span class=\"mtk3\">toArray</span><span class=\"mtk1\">(</span><span class=\"mtk11\">OrderSpecifier</span><span class=\"mtk1\">[]</span><span class=\"mtk9\">::new</span><span class=\"mtk1\">))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">fetch</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">return</span><span class=\"mtk4\"> </span><span class=\"mtk11\">PageableExecutionUtils</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getPage</span><span class=\"mtk1\">(groups, pageable, countQuery</span><span class=\"mtk9\">::</span><span class=\"mtk1\">fetchOne);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">private</span><span class=\"mtk4\"> </span><span class=\"mtk11\">List</span><span class=\"mtk8\">&lt;</span><span class=\"mtk4\">Long</span><span class=\"mtk8\">&gt;</span><span class=\"mtk4\"> </span><span class=\"mtk3\">findLikedGroupIds</span><span class=\"mtk4\">(</span><span class=\"mtk11\">SearchCondition</span><span class=\"mtk4\"> condition</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Member</span><span class=\"mtk4\"> member</span><span class=\"mtk1\">,</span><span class=\"mtk4\"> </span><span class=\"mtk11\">Pageable</span><span class=\"mtk4\"> pageable) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">    </span><span class=\"mtk9\">return</span><span class=\"mtk4\"> queryFactory</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">select</span><span class=\"mtk1\">(</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk4\">id</span><span class=\"mtk1\">).</span><span class=\"mtk3\">distinct</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">from</span><span class=\"mtk1\">(group)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">leftJoin</span><span class=\"mtk1\">(</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk11\">participants</span><span class=\"mtk1\">.</span><span class=\"mtk4\">participants</span><span class=\"mtk1\">, participant)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">innerJoin</span><span class=\"mtk1\">(</span><span class=\"mtk11\">group</span><span class=\"mtk1\">.</span><span class=\"mtk11\">favorites</span><span class=\"mtk1\">.</span><span class=\"mtk4\">favorites</span><span class=\"mtk1\">, favorite)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">where</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">favorite</span><span class=\"mtk1\">.</span><span class=\"mtk11\">member</span><span class=\"mtk1\">.</span><span class=\"mtk3\">eq</span><span class=\"mtk1\">(member),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">conditionFilter</span><span class=\"mtk1\">.</span><span class=\"mtk3\">filterByCondition</span><span class=\"mtk1\">(condition)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">orderBy</span><span class=\"mtk1\">(</span><span class=\"mtk3\">orderByDeadlineAsc</span><span class=\"mtk1\">(</span><span class=\"mtk11\">condition</span><span class=\"mtk1\">.</span><span class=\"mtk3\">orderByDeadline</span><span class=\"mtk1\">()).</span><span class=\"mtk3\">toArray</span><span class=\"mtk1\">(</span><span class=\"mtk11\">OrderSpecifier</span><span class=\"mtk1\">[]</span><span class=\"mtk9\">::new</span><span class=\"mtk1\">))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">offset</span><span class=\"mtk1\">(</span><span class=\"mtk11\">pageable</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getOffset</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">limit</span><span class=\"mtk1\">(</span><span class=\"mtk11\">pageable</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getPageSize</span><span class=\"mtk1\">())</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">            </span><span class=\"mtk1\">.</span><span class=\"mtk3\">fetch</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">}</span></span></span></code></pre>\n<p>그 결과 아래와 같이 1번 날리던 쿼리를 2번 날리게 되며 DB에 대한 접근 횟수는 증가하게 되었지만 DB에서 애플리케이션의 메모리로 불필요하게 모든 데이터를 가져온 후 필터링을 하는 문제는 해결할 수 있었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 765px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 152.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAACfUlEQVRIx5WV7XqiQAyFvZqtzAAi32j9atW2939B2Xmjoeiz2w4/jgzCnDlJTsKiaDNZ75zkmxdF1i8l65a3++FF0iJ5gF/d1+vH/9MyIDxbVGUtr6+vUhSFJEkiznnxAc458d4rnHfiEn+D89/rZ4RnC0jqppa2baWqKum6Tq91XUvTNHrQN7n7FQteHoZB9vu9bLdbGTaDEt7Uugeo2onyf0EJ1+u1HI9HORwOGn7f93oIarMsU8SQKSE/q9VKQyRswjRYGkCapnGEvMSG3W6nQNlms9HwUU4OwSyFKEEhZAbCLctSD4PYqv17UUK5u66X7WYr5bpU1FUteb6SZJlocbRAP9nGTWzj8hdZVakMu07qPpB1QVUXQm3yYNRwahpCyZyaFvj8vi7u9/f/MboP7y+qrpD6mGtXZP2f0CWhOxrWk06xTcWd8Kl7vglDpxDi4XCUtmlDJTPJs1yyNKjzoaqJec/Hd8pyuVRLUGEqi11uRWnVf3O6ZOwUfPj29qbGPp1Oapv393ftHhwQ68HRhxB+fn4q2dfXlxKdz2e5Xq+6flQaQZjnuSokZK60H2sOQDV+xDrj9Jn09n8JbThABszg1tu8E916hPzx8aFqCPVyuahSFALyaTMzatpASL5sM1dLAS1J600LExUy6iAAVBZFVJuefiaLKopNG0A+yZsVBeJZ48t8aF7kysDlChmItY4SEpYNV3LGyOIQVE0/BdEhQ0KoKIEYMlqSZ+P4mkMIAUUgd+ZHy6cN2Vk5JFSIICV8M7V9AsaJHfsJYBMqCHn6TSEVAJWzCO2Lx0bUWO4IE8SSjSGzycjI5/MQiOmQB0JMTIg/5StW4V8ZdKPcZkBKxQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/53577a55bc838837a4e1524ec1ed8782/bbb77/img_5.png\"\n        srcset=\"/static/53577a55bc838837a4e1524ec1ed8782/5a46d/img_5.png 300w,\n/static/53577a55bc838837a4e1524ec1ed8782/0a47e/img_5.png 600w,\n/static/53577a55bc838837a4e1524ec1ed8782/bbb77/img_5.png 765w\"\n        sizes=\"(max-width: 765px) 100vw, 765px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h1 id=\"-reference\" style=\"position:relative;\"><a href=\"#-reference\" aria-label=\" reference permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📚 Reference</h1>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11431670/how-can-i-avoid-the-warning-firstresult-maxresults-specified-with-collection-fe\">How can I avoid the Warning \"firstResult/maxResults specified with collection fetch; applying in memory!\" when using Hibernate?</a></li>\n<li><a href=\"https://velog.io/@cksdnr066/WARN-firstResultmaxResults-specified-with-collection-fetch-applying-in-memory\">[WARN] firstResult/maxResults specified with collection fetch; applying in memory!</a></li>\n<li><a href=\"https://javabom.tistory.com/104\">fetch join 과 pagination 을 같이 쓸 때 [HHH000104: firstResult/maxResults specified with collection fetch; applying in memory]</a></li>\n<li><a href=\"https://soon-devblog.tistory.com/40\">fetch join with pagination :: [HHH000104: firstResult/maxResults specified with collection fetch; applying in memory] 에러 해결</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtki { font-style: italic; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk11 { color: #E5C07B; }\n  .one-dark-pro .mtk9 { color: #C678DD; }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .mtk8 { color: #56B6C2; }\n  .one-dark-pro .mtk3 { color: #61AFEF; }\n  .one-dark-pro .mtk5 { color: #7F848E; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li><a href=\"/Backend/20220930-FetchJoin%EA%B3%BC-limit%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B0-%EB%B0%9C%EC%83%9D%ED%95%9C-%EB%AC%B8%EC%A0%9C/#%ED%95%99%EC%8A%B5-%EA%B3%84%EA%B8%B0\">학습 계기</a></li>\n<li><a href=\"/Backend/20220930-FetchJoin%EA%B3%BC-limit%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B0-%EB%B0%9C%EC%83%9D%ED%95%9C-%EB%AC%B8%EC%A0%9C/#%EB%AC%B8%EC%A0%9C-%EC%9B%90%EC%9D%B8-%EB%B6%84%EC%84%9D\">문제 원인 분석</a></li>\n<li><a href=\"/Backend/20220930-FetchJoin%EA%B3%BC-limit%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B0-%EB%B0%9C%EC%83%9D%ED%95%9C-%EB%AC%B8%EC%A0%9C/#%EC%96%B4%EC%A7%B8%EC%84%9C-%EC%9D%B4%EB%9F%AC%ED%95%9C-%EC%9D%BC%EC%9D%B4-%EB%B0%9C%EC%83%9D%ED%95%98%EC%98%80%EC%9D%84%EA%B9%8C\">어째서 이러한 일이 발생하였을까?</a></li>\n<li>\n<p><a href=\"/Backend/20220930-FetchJoin%EA%B3%BC-limit%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B0-%EB%B0%9C%EC%83%9D%ED%95%9C-%EB%AC%B8%EC%A0%9C/#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9D%B4-%EC%9E%88%EC%9D%84%EA%B9%8C\">해결 방법은 무엇이 있을까?</a></p>\n<ul>\n<li>\n<p><a href=\"/Backend/20220930-FetchJoin%EA%B3%BC-limit%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B0-%EB%B0%9C%EC%83%9D%ED%95%9C-%EB%AC%B8%EC%A0%9C/#%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95-1\">해결방법 1</a></p>\n<ul>\n<li><a href=\"/Backend/20220930-FetchJoin%EA%B3%BC-limit%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B0-%EB%B0%9C%EC%83%9D%ED%95%9C-%EB%AC%B8%EC%A0%9C/#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%81%EC%9A%A9%ED%95%9C-%EA%B2%B0%EA%B3%BC\">프로젝트 코드에 적용한 결과</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/Backend/20220930-FetchJoin%EA%B3%BC-limit%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B0-%EB%B0%9C%EC%83%9D%ED%95%9C-%EB%AC%B8%EC%A0%9C/#%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95-2\">해결방법 2</a></p>\n<ul>\n<li><a href=\"/Backend/20220930-FetchJoin%EA%B3%BC-limit%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B0-%EB%B0%9C%EC%83%9D%ED%95%9C-%EB%AC%B8%EC%A0%9C/#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%BD%94%EB%93%9C%EC%97%90-%EC%A0%81%EC%9A%A9%ED%95%9C-%EA%B2%B0%EA%B3%BC-1\">프로젝트 코드에 적용한 결과</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/Backend/20220930-FetchJoin%EA%B3%BC-limit%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B0-%EB%B0%9C%EC%83%9D%ED%95%9C-%EB%AC%B8%EC%A0%9C/#-reference\">📚 Reference</a></li>\n</ul>","frontmatter":{"date":"2022년 09월 30일","title":"Fetch Join과 limit을 같이 사용하며 발생한 문제 - [WARN] firstResult/maxResults specified with collection fetch; applying in memory!","tags":["SpringFramework","JPA","Spring Data JPA","Warning Message","FetchJoin","Limit"]}}},"pageContext":{"slug":"/Backend/20220930-FetchJoin과-limit을-같이-사용하며-발생한-문제/","previous":{"fields":{"slug":"/Backend/20220919-성능테스트-부하테스트-스트레스테스트란/"},"frontmatter":{"title":"성능테스트, 부하테스트, 스트레스 테스트..무엇이 다를까?"}},"next":{"fields":{"slug":"/Backend/20221008-Spring의_Event/"},"frontmatter":{"title":"Spring의 Event란 무엇일까?"}}}},"staticQueryHashes":["3911196313","4111100897"]}