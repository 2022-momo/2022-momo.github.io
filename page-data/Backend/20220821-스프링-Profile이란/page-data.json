{"componentChunkName":"component---src-templates-blog-post-js","path":"/Backend/20220821-스프링-Profile이란/","result":{"data":{"site":{"siteMetadata":{"author":"momo","comment":{"utterances":"2022-momo/2022-momo.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"excerpt":"해당 포스트는 모모팀 크루 렉스가 작성하였습니다. 학습 계기 프로젝트를 진행하며 배포를 진행하다보니 개발서버, 배포서버가 생겨났다. 그 결과 각각의 서버 별로 연결되는 DB가 다른 등의 차이점이 있어 실행환경에 대한 설정 분리가 필요했다.\n모모팀은 Spring Profile을 통해 실행환경 설정을 쉽게 변경할 수 있도록 구현하였으며 해당 포스트에서는 Pr…","html":"<blockquote>\n<p>해당 포스트는 모모팀 크루 <a href=\"https://github.com/Seongwon97\">렉스</a>가 작성하였습니다.</p>\n</blockquote>\n<h1 id=\"학습-계기\" style=\"position:relative;\"><a href=\"#%ED%95%99%EC%8A%B5-%EA%B3%84%EA%B8%B0\" aria-label=\"학습 계기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>학습 계기</h1>\n<p>프로젝트를 진행하며 배포를 진행하다보니 개발서버, 배포서버가 생겨났다. 그 결과 각각의 서버 별로 연결되는 DB가 다른 등의 차이점이 있어 실행환경에 대한 설정 분리가 필요했다.\n모모팀은 Spring Profile을 통해 실행환경 설정을 쉽게 변경할 수 있도록 구현하였으며 해당 포스트에서는 Profile을 적용하며 학습한 내용을 정리했다.</p>\n<h1 id=\"1-프로파일profile이란\" style=\"position:relative;\"><a href=\"#1-%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BCprofile%EC%9D%B4%EB%9E%80\" aria-label=\"1 프로파일profile이란 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 프로파일(Profile)이란?</h1>\n<p>애플리케이션을 개발하다보면 실행 환경에 따라 구성 명세를 다르게 설정해야할 때가 존재한다. 예를 들면 배포를 위한 애플리케이션을 개발하다보면 로컬서버, 개발서버, 배포서버 등 실행되는 위치에 따라 실행 환경 설정이 달라지게 된다. 필자는 최근 진행한 프로젝트에서는 로컬의 경우 H2 DB 또는 로컬 PC에 설치해둔 MySQL DB를 연결하였다. 그리고 개발 서버, 배포 서버에는 각각 실행환경에서 사용중인 DB를 연결시킨 후에 개발을 진행하였다.</p>\n<p>이러한 환경에 대한 설정은 OS의 환경 변수를 통해 설정할 수도 있지만 변경점이 있을 때마다 직접 환경 변수를 변경해줘야하고, 배포 서버의 경우 여러 서버를 이용할 경우 여러개의 서버를 변경해줘야 하는 등의 번거로움이 동반하게 된다. 그리고 환경변수 변경은 Git을 통한 형상관리도 할 수 없다는 단점도 존재한다. 그래서 스프링 프로젝트를 개발할 때는 환경변수를 사용하기보다 스프링의 프로파일(Profile)기능을 사용하는 것이 좋다.</p>\n<p>Spring은 실행 환경에 따라 애플리케이션의 설정을 다르게 해주는 프로파일이라는 기능을 제공하고 있다. 프로파일을 사용하면 런타임시에 활성화되는 프로파일에 따라 서로 다른 빈, 구성 클래스, 구성 속성 들이 적용 또는 무시될 수록 할 수 있다. 앞서 예시로 든 로컬﹒개발﹒배포서버의 설정의 경우, 개발 프로파일을 활성화시키면 개발 서버에서 사용하는 DB를 연결하게되고 배포 프로파일을 활성화시키면 배포 서버의 DB를 연결하는 등 간편하게 환경 설정을 할 수 있다.</p>\n<h1 id=\"2-profile-속성-정의하기\" style=\"position:relative;\"><a href=\"#2-profile-%EC%86%8D%EC%84%B1-%EC%A0%95%EC%9D%98%ED%95%98%EA%B8%B0\" aria-label=\"2 profile 속성 정의하기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Profile 속성 정의하기</h1>\n<p>프로파일에 특정한 속성을 정의하려면 각각의 환경의 속성들만을 포함하는 별도의 <code>.yml</code>, <code>.properties</code> 파일을 만들어야 한다. 이때 파일의 이름은 <code>application-{프로파일 이름}.yml</code>, <code>application-{프로파일 이름}.properties</code> 의 형식으로 생성을 하여야 한다.</p>\n<p>필자는 로컬, 개발, 배포 환경에 맞는 3개의 yml파일을 만들어보았다.</p>\n<ul>\n<li>\n<p><code>application-local.yml</code></p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"yaml\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">spring</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">datasource</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">username</span><span class=\"mtk1\">: </span><span class=\"mtk6\">sa</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">url</span><span class=\"mtk1\">: </span><span class=\"mtk6\">jdbc:h2:~/momo;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">jpa</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">properties</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">hibernate.dialect</span><span class=\"mtk1\">: </span><span class=\"mtk6\">org.hibernate.dialect.H2Dialect</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">hibernate.ddl-auto</span><span class=\"mtk1\">: </span><span class=\"mtk6\">create-drop</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">database-platform</span><span class=\"mtk1\">: </span><span class=\"mtk6\">org.hibernate.dialect.H2Dialect</span></span></span></code></pre>\n</li>\n<li>\n<p><code>application-dev.yml</code></p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"yaml\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">spring</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">datasource</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">driver-class-name</span><span class=\"mtk1\">: </span><span class=\"mtk6\">com.mysql.cj.jdbc.Driver</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">username</span><span class=\"mtk1\">: </span><span class=\"mtk6\">momo</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">password</span><span class=\"mtk1\">: </span><span class=\"mtk6\">momo123!</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">url</span><span class=\"mtk1\">: </span><span class=\"mtk6\">jdbc:mysql://{개발서버DB_IP}:3306/momo?serverTimezone=UTC&amp;characterEncoding=UTF-8</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">jpa</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">hibernate.ddl-auto</span><span class=\"mtk1\">: </span><span class=\"mtk6\">validate</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">database-platform</span><span class=\"mtk1\">: </span><span class=\"mtk6\">org.hibernate.dialect.MySQL8Dialect</span></span></span></code></pre>\n</li>\n<li>\n<p><code>application-prod.yml</code></p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"yaml\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">spring</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">datasource</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">driver-class-name</span><span class=\"mtk1\">: </span><span class=\"mtk6\">com.mysql.cj.jdbc.Driver</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">username</span><span class=\"mtk1\">: </span><span class=\"mtk6\">momo</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">password</span><span class=\"mtk1\">: </span><span class=\"mtk6\">momo123!</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">url</span><span class=\"mtk1\">: </span><span class=\"mtk6\">jdbc:mysql://{배포서버DB_IP}:3306/momo?serverTimezone=UTC&amp;characterEncoding=UTF-8</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">jpa</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">hibernate.ddl-auto</span><span class=\"mtk1\">: </span><span class=\"mtk6\">validate</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">database-platform</span><span class=\"mtk1\">: </span><span class=\"mtk6\">org.hibernate.dialect.MySQL8Dialect</span></span></span></code></pre>\n</li>\n</ul>\n<blockquote>\n<p>과거에는 하나의 yml 파일 내에서 3개의 하이픈(<code>---</code>)을 기준으로 profile을 분리할 수 있었다. 하지만 Spring Boot 2.4버전부터 해당 기능은 deprecated되어 이제는 개별로 프로파일 <code>yml</code>파일을 생성해줘야 한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVQoz4WSWW/bMBCE9WMC+EpQIEDd2o5J3SJFmzot67B8uw6Kov//bbqSjbz24cMsF8JwdyjDnk7w/jbGZPKKyesbBoPBfxkNhxj2jJ4MvzC86RgBm0KqEIEUME0GyzJhdpi8V85Zr12fcY7ZYoF5x3z2YDEnPvq+8fHtBSpwkO3OSOs9ccBmd0Te0RypPj17REvfbGtEcYRVHENlJVReQSU5dJJAaQ1jPBphzizIrIYflxBpBS8qYOvyyRZ2VMFeF7Do7KxzCJ3CX+m+dvUGjooRqBXcQMIYkSGzbNTtAUXVoGlbFHULke0QkrlMuylqhHlDl+4ebPZYpQXCtYZcRwh1DF9pMMeH0QXJLQft6YKq3WPTdKueaOUzNvtbP7lMtmRc9SqSkrR4qE6+6Ay52xsOMGM2VHmhqVpY+RUsu4KnZ7D0Ap7/AtcNmEyJBCzMsBQxuMphehKmG5CRgOVL8G7C7jcwqTh+/kV9vqM+3XG4/UZ9vKGl8/H+B4frJ8pdS6tR8FGCNT2CJxUcQcgVKeVHavnikeH3Hz8pULrF8WC7Hiy3Ux+ekH2/VxGShnAoeJ/MFtzCbMkxX5oEKTOxIP4BBC5JjqLSnsUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/29dcaa0dc418656d8e6c42410ad19413/c1b63/img.png\"\n        srcset=\"/static/29dcaa0dc418656d8e6c42410ad19413/5a46d/img.png 300w,\n/static/29dcaa0dc418656d8e6c42410ad19413/0a47e/img.png 600w,\n/static/29dcaa0dc418656d8e6c42410ad19413/c1b63/img.png 1200w,\n/static/29dcaa0dc418656d8e6c42410ad19413/f8836/img.png 1214w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<ul>\n<li><a href=\"http://honeymon.io/tech/2021/01/16/spring-boot-config-data-migration.html\">[spring-boot] 2.4 부터 변경된 구성파일 처리방식 살펴보기</a></li>\n</ul>\n</blockquote>\n<h1 id=\"3-profile-활성화하기\" style=\"position:relative;\"><a href=\"#3-profile-%ED%99%9C%EC%84%B1%ED%99%94%ED%95%98%EA%B8%B0\" aria-label=\"3 profile 활성화하기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Profile 활성화하기</h1>\n<p>스프링 부트는 우선 기본적으로 <code>application.yml</code> 파일 내 모든 property 를 로드한 후에 활성화(active)된 profile 들에 대한 <code>.yml</code> 파일에 대해서만 property 를 로드한다. 활성화시킬 프로파일은 1개 이상일 수가 있으며 활성화시키는 방법은 여러 방법이 존재한다.</p>\n<p>지금부터 프로파일을 active하는 방법에 대해 살펴보겠다.</p>\n<h2 id=\"31-applicationyml을-통한-활성화\" style=\"position:relative;\"><a href=\"#31-applicationyml%EC%9D%84-%ED%86%B5%ED%95%9C-%ED%99%9C%EC%84%B1%ED%99%94\" aria-label=\"31 applicationyml을 통한 활성화 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1. application.yml을 통한 활성화</h2>\n<p>기본적으로 실행되는 <code>application.yml</code> 파일에 <code>spring.profiles.active</code> 속성을 통해 실행되는 프로파일을 설정할 수 있다. 하지만 해당 방법은 활성화시킬 기본 프로파일을 yml을 통해 설정하는 것이라 개발 환경에 따라 실행되는 프로파일을 쉽게 설정하는 프로파일의 이점을 살릴 수가 없다. 때문에 해당 방법은 사용하지 않는 것이 좋다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"yaml\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">spring</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">profiles</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">active</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      - </span><span class=\"mtk6\">prod</span></span></span></code></pre>\n<h2 id=\"32-환경-변수를-통한-활성화\" style=\"position:relative;\"><a href=\"#32-%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98%EB%A5%BC-%ED%86%B5%ED%95%9C-%ED%99%9C%EC%84%B1%ED%99%94\" aria-label=\"32 환경 변수를 통한 활성화 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2. 환경 변수를 통한 활성화</h2>\n<p>프로덕션 환경의 <code>SPRING_PROFILES_ACTIVE</code>환경변수를 설정하며 활성화시킬 프로파일을 설정할 수 있다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"bash\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">% </span><span class=\"mtk9\">export</span><span class=\"mtk1\"> SPRING_PROFILES_ACTIVE=prod</span></span></span></code></pre>\n<p>환경 변수를 통해 프로파일을 활성화사키면 <code>application.yml</code>에서 <code>spring.profiles.active</code> 속성을 통해 설정한 기본 프로파일의 동일한 속성보다 더 높은 우선순위를 갖게되어 해당 프로파일이 실행되게 된다.</p>\n<h2 id=\"33-jar-파일-실행-설정을-통한-활성화\" style=\"position:relative;\"><a href=\"#33-jar-%ED%8C%8C%EC%9D%BC-%EC%8B%A4%ED%96%89-%EC%84%A4%EC%A0%95%EC%9D%84-%ED%86%B5%ED%95%9C-%ED%99%9C%EC%84%B1%ED%99%94\" aria-label=\"33 jar 파일 실행 설정을 통한 활성화 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.3. Jar 파일 실행 설정을 통한 활성화</h2>\n<p>JAR파일을 통해 애플리케이션을 실행하며 프로파일 설정을 한다면 아래와 같이 <code>--spring.profiles.active</code> 옵션을 통해 설정해주면 된다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"bash\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">java -jar {파일명}.jar --spring.profiles.active=prod</span></span></span></code></pre>\n<h2 id=\"34-intellij-설정\" style=\"position:relative;\"><a href=\"#34-intellij-%EC%84%A4%EC%A0%95\" aria-label=\"34 intellij 설정 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.4. IntelliJ 설정</h2>\n<ol>\n<li>Run > Edit Configurations... 선택</li>\n<li>Spring Boot Application 선택</li>\n<li>Active profiles 에서 원하는 profile 명을 입력 후 실행</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByUlEQVQ4y21T2XLqMAzNRxWyOc5C4iwkQOjeO3faTp/6/x9weiQXJlAezki2ZOlocdA0W1g3IrEtsmpAaBqYYoDdjCibPer+Ht30pLrch8YhpSzqHf1H1fPNRP8JWblFkNVH1MM/GmYk+R5RNhEjiuZIpxlr0ytWaYdV0mGd9gw60GdLDF63o55FDyr3H8PhG5vuC5X7IJNPsp1RtkdU7QMTTfrQ1gfElOvigMw9wpTC6oCo2CFxz7AVZT4iWKeSldljhztilTg9F47Me5ZKKWyzak9bqzZlTRmaTpP5GN6mAc+OC0g2YWXKHQyDZWTjyx8uENPPt6TXdgTXgSS4BKu6B7bgHglLMuM74vYNkXtFqHhRKefo915k2DzfYCg6M0qZwu5covHDCCmFsQzhdL/ERcDr0uWsdyLZ3yjfIXVPkM1Y2s9+t3oourCI7ZbwjC5YnJilf9mF1wxPepQPujYS8I5TP0M3ofmVN0Cf4KK001CKETkHIpOVfhkuuKGe1bOW67HU+QlktegXrG5MOWK5MpSye4TtX5Hzcc6zrIjYIm2H/ylLyF4GOq3roLK0AvlOXBtxlP4sByAlpoX851m3wVYvKOsP/ABaY8m5BpFEZwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"Untitled\"\n        src=\"/static/eca7cf2a89b760281695327b26a9b058/c1b63/img_1.png\"\n        srcset=\"/static/eca7cf2a89b760281695327b26a9b058/5a46d/img_1.png 300w,\n/static/eca7cf2a89b760281695327b26a9b058/0a47e/img_1.png 600w,\n/static/eca7cf2a89b760281695327b26a9b058/c1b63/img_1.png 1200w,\n/static/eca7cf2a89b760281695327b26a9b058/21b4d/img_1.png 1280w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h1 id=\"-reference\" style=\"position:relative;\"><a href=\"#-reference\" aria-label=\" reference permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📚 Reference</h1>\n<ul>\n<li><a href=\"https://search.shopping.naver.com/book/catalog/32441616013?cat_id=50010920&#x26;frm=PBOKPRO&#x26;query=%EC%8A%A4%ED%94%84%EB%A7%81%EC%9D%B8%EC%95%A1%EC%85%98&#x26;NaPm=ct%3Dl73e8ti0%7Cci%3Dfd13b06857fe558f4b9beb699e164f5a995fb85d%7Ctr%3Dboknx%7Csn%3D95694%7Chk%3D700b39cf6841823d167206c12bb45d010f14b68f\">스프링 인 액션 : 네이버 도서</a></li>\n<li><a href=\"https://oingdaddy.tistory.com/393\">Springboot Profile 설정방법 및 가져오기</a></li>\n<li><a href=\"https://www.baeldung.com/spring-profiles\">Spring Profiles | Baeldung</a></li>\n<li><a href=\"https://galid1.tistory.com/664\">Spring Boot - Profile에 따른 properties(yml) 파일 설정하기</a></li>\n<li><a href=\"http://honeymon.io/tech/2021/01/16/spring-boot-config-data-migration.html\">[spring-boot] 2.4 부터 변경된 구성파일 처리방식 살펴보기</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk6 { color: #98C379; }\n  .one-dark-pro .mtk9 { color: #C678DD; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li><a href=\"/Backend/20220821-%EC%8A%A4%ED%94%84%EB%A7%81-Profile%EC%9D%B4%EB%9E%80/#%ED%95%99%EC%8A%B5-%EA%B3%84%EA%B8%B0\">학습 계기</a></li>\n<li><a href=\"/Backend/20220821-%EC%8A%A4%ED%94%84%EB%A7%81-Profile%EC%9D%B4%EB%9E%80/#1-%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BCprofile%EC%9D%B4%EB%9E%80\">1. 프로파일(Profile)이란?</a></li>\n<li><a href=\"/Backend/20220821-%EC%8A%A4%ED%94%84%EB%A7%81-Profile%EC%9D%B4%EB%9E%80/#2-profile-%EC%86%8D%EC%84%B1-%EC%A0%95%EC%9D%98%ED%95%98%EA%B8%B0\">2. Profile 속성 정의하기</a></li>\n<li>\n<p><a href=\"/Backend/20220821-%EC%8A%A4%ED%94%84%EB%A7%81-Profile%EC%9D%B4%EB%9E%80/#3-profile-%ED%99%9C%EC%84%B1%ED%99%94%ED%95%98%EA%B8%B0\">3. Profile 활성화하기</a></p>\n<ul>\n<li><a href=\"/Backend/20220821-%EC%8A%A4%ED%94%84%EB%A7%81-Profile%EC%9D%B4%EB%9E%80/#31-applicationyml%EC%9D%84-%ED%86%B5%ED%95%9C-%ED%99%9C%EC%84%B1%ED%99%94\">3.1. application.yml을 통한 활성화</a></li>\n<li><a href=\"/Backend/20220821-%EC%8A%A4%ED%94%84%EB%A7%81-Profile%EC%9D%B4%EB%9E%80/#32-%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98%EB%A5%BC-%ED%86%B5%ED%95%9C-%ED%99%9C%EC%84%B1%ED%99%94\">3.2. 환경 변수를 통한 활성화</a></li>\n<li><a href=\"/Backend/20220821-%EC%8A%A4%ED%94%84%EB%A7%81-Profile%EC%9D%B4%EB%9E%80/#33-jar-%ED%8C%8C%EC%9D%BC-%EC%8B%A4%ED%96%89-%EC%84%A4%EC%A0%95%EC%9D%84-%ED%86%B5%ED%95%9C-%ED%99%9C%EC%84%B1%ED%99%94\">3.3. Jar 파일 실행 설정을 통한 활성화</a></li>\n<li><a href=\"/Backend/20220821-%EC%8A%A4%ED%94%84%EB%A7%81-Profile%EC%9D%B4%EB%9E%80/#34-intellij-%EC%84%A4%EC%A0%95\">3.4. IntelliJ 설정</a></li>\n</ul>\n</li>\n<li><a href=\"/Backend/20220821-%EC%8A%A4%ED%94%84%EB%A7%81-Profile%EC%9D%B4%EB%9E%80/#-reference\">📚 Reference</a></li>\n</ul>","frontmatter":{"date":"2022년 08월 21일","title":"Spring Profile을 통한 실행 환경 분리","tags":["SpringFramework","Profile"]}}},"pageContext":{"slug":"/Backend/20220821-스프링-Profile이란/","previous":{"fields":{"slug":"/Backend/20220817-JPA-Specification/"},"frontmatter":{"title":"JPA Specification(Criteria)을 통한 조회 필터링 기능 구현"}},"next":{"fields":{"slug":"/Backend/20220919-성능테스트-부하테스트-스트레스테스트란/"},"frontmatter":{"title":"성능테스트, 부하테스트, 스트레스 테스트..무엇이 다를까?"}}}},"staticQueryHashes":["3911196313","4111100897"]}